{"ast":null,"code":"\"use strict\";\n\nvar __extends = void 0 && (void 0).__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar __makeTemplateObject = void 0 && (void 0).__makeTemplateObject || function (cooked, raw) {\n  if (Object.defineProperty) {\n    Object.defineProperty(cooked, \"raw\", {\n      value: raw\n    });\n  } else {\n    cooked.raw = raw;\n  }\n\n  return cooked;\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar React = require(\"react\");\n\nvar styled_1 = require(\"../styled\");\n\nvar TopBar_1 = require(\"./Playground/TopBar/TopBar\");\n\nvar ConfigEditor_1 = require(\"./Playground/ConfigEditor\");\n\nvar react_redux_1 = require(\"react-redux\");\n\nvar reselect_1 = require(\"reselect\");\n\nvar selectors_1 = require(\"../state/general/selectors\");\n\nvar actions_1 = require(\"../state/general/actions\");\n\nvar actions_2 = require(\"../state/sessions/actions\");\n\nvar reducers_1 = require(\"../state/workspace/reducers\");\n\nvar EditorWrapper_1 = require(\"./Playground/EditorWrapper\"); // TODO: Trigger onSave on CMD+S or CTRL+S\n\n\nvar SettingsEditor =\n/** @class */\nfunction (_super) {\n  __extends(SettingsEditor, _super);\n\n  function SettingsEditor() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.handleKeydown = function (e) {\n      if (e.key === 's' && e.metaKey) {\n        e.preventDefault();\n\n        _this.props.onSave();\n      }\n    };\n\n    return _this;\n  }\n\n  SettingsEditor.prototype.componentDidMount = function () {\n    window.addEventListener('keydown', this.handleKeydown, true);\n  };\n\n  SettingsEditor.prototype.render = function () {\n    var isConfig = this.props.isConfig;\n    return /*#__PURE__*/React.createElement(EditorWrapper_1.Container, null, /*#__PURE__*/React.createElement(Wrapper, null, /*#__PURE__*/React.createElement(EditorWrapper_1[\"default\"], null, /*#__PURE__*/React.createElement(ConfigEditor_1.ConfigEditor, {\n      value: this.props.value,\n      onEdit: this.props.onChange,\n      onRunQuery: this.props.onSave,\n      isYaml: this.props.isYaml,\n      readOnly: this.props.readOnly\n    }), /*#__PURE__*/React.createElement(PlaygroundVersion, null, window.version)), !this.props.readOnly && /*#__PURE__*/React.createElement(ButtonWrapper, null, /*#__PURE__*/React.createElement(TopBar_1.Button, {\n      onClick: this.props.onSave\n    }, \"Save \", isConfig ? \"Config\" : \"Settings\"))));\n  };\n\n  return SettingsEditor;\n}(React.Component);\n\nexports.SettingsEditor = SettingsEditor;\nvar playgroundSettingsSelector = reselect_1.createStructuredSelector({\n  value: reducers_1.getSettingsString\n}); // tslint:disable\n\nvar SettingsEditorHOC =\n/** @class */\nfunction (_super) {\n  __extends(SettingsEditorHOC, _super);\n\n  function SettingsEditorHOC(props) {\n    var _this = _super.call(this, props) || this;\n\n    _this.handleChange = function (value) {\n      _this.setState({\n        value: value\n      });\n\n      _this.props.editSettings();\n    };\n\n    _this.handleSave = function () {\n      _this.props.onChange(_this.state.value);\n\n      _this.props.saveSettings();\n    };\n\n    _this.state = {\n      value: props.value\n    };\n    return _this;\n  }\n\n  SettingsEditorHOC.prototype.UNSAFE_componentWillReceiveProps = function (nextProps) {\n    if (nextProps.value !== this.props.value) {\n      this.setState({\n        value: nextProps.value\n      });\n    }\n  };\n\n  SettingsEditorHOC.prototype.render = function () {\n    return /*#__PURE__*/React.createElement(SettingsEditor, {\n      value: this.state.value,\n      onChange: this.handleChange,\n      onSave: this.handleSave\n    });\n  };\n\n  return SettingsEditorHOC;\n}(React.Component);\n\nexports.PlaygroundSettingsEditor = react_redux_1.connect(playgroundSettingsSelector, {\n  onChange: actions_1.setSettingsString,\n  editSettings: actions_2.editSettings,\n  saveSettings: actions_2.saveSettings\n})(SettingsEditorHOC);\nvar configSelector = reselect_1.createStructuredSelector({\n  value: selectors_1.getConfigString\n});\nexports.GraphQLConfigEditor = react_redux_1.connect(configSelector, {\n  onChange: actions_1.setConfigString\n})(SettingsEditor);\nvar Wrapper = styled_1.styled.div(templateObject_1 || (templateObject_1 = __makeTemplateObject([\"\\n  background: \", \";\\n  position: relative;\\n  display: flex;\\n  flex-flow: column;\\n  flex: 1 1 0;\\n\\n  .CodeMirror {\\n    background: \", \";\\n    .CodeMirror-code {\\n      color: rgba(255, 255, 255, 0.7);\\n    }\\n    .cm-atom {\\n      color: rgba(42, 126, 210, 1);\\n    }\\n  }\\n\"], [\"\\n  background: \", \";\\n  position: relative;\\n  display: flex;\\n  flex-flow: column;\\n  flex: 1 1 0;\\n\\n  .CodeMirror {\\n    background: \", \";\\n    .CodeMirror-code {\\n      color: rgba(255, 255, 255, 0.7);\\n    }\\n    .cm-atom {\\n      color: rgba(42, 126, 210, 1);\\n    }\\n  }\\n\"])), function (p) {\n  return p.theme.editorColours.resultBackground;\n}, function (p) {\n  return p.theme.editorColours.resultBackground;\n});\nvar ButtonWrapper = styled_1.styled.div(templateObject_2 || (templateObject_2 = __makeTemplateObject([\"\\n  position: absolute;\\n  top: 16px;\\n  right: 16px;\\n  z-index: 2;\\n\"], [\"\\n  position: absolute;\\n  top: 16px;\\n  right: 16px;\\n  z-index: 2;\\n\"])));\nvar PlaygroundVersion = styled_1.styled.span(templateObject_3 || (templateObject_3 = __makeTemplateObject([\"\\n  position: absolute;\\n  right: 20px;\\n  bottom: 17px;\\n  color: \", \";\\n  font-weight: 700;\\n  margin-right: 14px;\\n\"], [\"\\n  position: absolute;\\n  right: 20px;\\n  bottom: 17px;\\n  color: \", \";\\n  font-weight: 700;\\n  margin-right: 14px;\\n\"])), function (p) {\n  return p.theme.editorColours.textInactive;\n});\nvar templateObject_1, templateObject_2, templateObject_3;","map":{"version":3,"sources":["/Users/wubo/Desktop/card-design/card-design/node_modules/graphql-playground-react/lib/components/SettingsEditor.js"],"names":["__extends","_extendStatics","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","prototype","create","__makeTemplateObject","cooked","raw","defineProperty","value","exports","React","require","styled_1","TopBar_1","ConfigEditor_1","react_redux_1","reselect_1","selectors_1","actions_1","actions_2","reducers_1","EditorWrapper_1","SettingsEditor","_super","_this","apply","arguments","handleKeydown","e","key","metaKey","preventDefault","props","onSave","componentDidMount","window","addEventListener","render","isConfig","createElement","Container","Wrapper","ConfigEditor","onEdit","onChange","onRunQuery","isYaml","readOnly","PlaygroundVersion","version","ButtonWrapper","Button","onClick","Component","playgroundSettingsSelector","createStructuredSelector","getSettingsString","SettingsEditorHOC","call","handleChange","setState","editSettings","handleSave","state","saveSettings","UNSAFE_componentWillReceiveProps","nextProps","PlaygroundSettingsEditor","connect","setSettingsString","configSelector","getConfigString","GraphQLConfigEditor","setConfigString","styled","div","templateObject_1","theme","editorColours","resultBackground","templateObject_2","span","templateObject_3","textInactive"],"mappings":"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","sourcesContent":["\"use strict\";\n\nvar __extends = void 0 && (void 0).__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar __makeTemplateObject = void 0 && (void 0).__makeTemplateObject || function (cooked, raw) {\n  if (Object.defineProperty) {\n    Object.defineProperty(cooked, \"raw\", {\n      value: raw\n    });\n  } else {\n    cooked.raw = raw;\n  }\n\n  return cooked;\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar React = require(\"react\");\n\nvar styled_1 = require(\"../styled\");\n\nvar TopBar_1 = require(\"./Playground/TopBar/TopBar\");\n\nvar ConfigEditor_1 = require(\"./Playground/ConfigEditor\");\n\nvar react_redux_1 = require(\"react-redux\");\n\nvar reselect_1 = require(\"reselect\");\n\nvar selectors_1 = require(\"../state/general/selectors\");\n\nvar actions_1 = require(\"../state/general/actions\");\n\nvar actions_2 = require(\"../state/sessions/actions\");\n\nvar reducers_1 = require(\"../state/workspace/reducers\");\n\nvar EditorWrapper_1 = require(\"./Playground/EditorWrapper\"); // TODO: Trigger onSave on CMD+S or CTRL+S\n\n\nvar SettingsEditor =\n/** @class */\nfunction (_super) {\n  __extends(SettingsEditor, _super);\n\n  function SettingsEditor() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.handleKeydown = function (e) {\n      if (e.key === 's' && e.metaKey) {\n        e.preventDefault();\n\n        _this.props.onSave();\n      }\n    };\n\n    return _this;\n  }\n\n  SettingsEditor.prototype.componentDidMount = function () {\n    window.addEventListener('keydown', this.handleKeydown, true);\n  };\n\n  SettingsEditor.prototype.render = function () {\n    var isConfig = this.props.isConfig;\n    return /*#__PURE__*/React.createElement(EditorWrapper_1.Container, null, /*#__PURE__*/React.createElement(Wrapper, null, /*#__PURE__*/React.createElement(EditorWrapper_1[\"default\"], null, /*#__PURE__*/React.createElement(ConfigEditor_1.ConfigEditor, {\n      value: this.props.value,\n      onEdit: this.props.onChange,\n      onRunQuery: this.props.onSave,\n      isYaml: this.props.isYaml,\n      readOnly: this.props.readOnly\n    }), /*#__PURE__*/React.createElement(PlaygroundVersion, null, window.version)), !this.props.readOnly && /*#__PURE__*/React.createElement(ButtonWrapper, null, /*#__PURE__*/React.createElement(TopBar_1.Button, {\n      onClick: this.props.onSave\n    }, \"Save \", isConfig ? \"Config\" : \"Settings\"))));\n  };\n\n  return SettingsEditor;\n}(React.Component);\n\nexports.SettingsEditor = SettingsEditor;\nvar playgroundSettingsSelector = reselect_1.createStructuredSelector({\n  value: reducers_1.getSettingsString\n}); // tslint:disable\n\nvar SettingsEditorHOC =\n/** @class */\nfunction (_super) {\n  __extends(SettingsEditorHOC, _super);\n\n  function SettingsEditorHOC(props) {\n    var _this = _super.call(this, props) || this;\n\n    _this.handleChange = function (value) {\n      _this.setState({\n        value: value\n      });\n\n      _this.props.editSettings();\n    };\n\n    _this.handleSave = function () {\n      _this.props.onChange(_this.state.value);\n\n      _this.props.saveSettings();\n    };\n\n    _this.state = {\n      value: props.value\n    };\n    return _this;\n  }\n\n  SettingsEditorHOC.prototype.UNSAFE_componentWillReceiveProps = function (nextProps) {\n    if (nextProps.value !== this.props.value) {\n      this.setState({\n        value: nextProps.value\n      });\n    }\n  };\n\n  SettingsEditorHOC.prototype.render = function () {\n    return /*#__PURE__*/React.createElement(SettingsEditor, {\n      value: this.state.value,\n      onChange: this.handleChange,\n      onSave: this.handleSave\n    });\n  };\n\n  return SettingsEditorHOC;\n}(React.Component);\n\nexports.PlaygroundSettingsEditor = react_redux_1.connect(playgroundSettingsSelector, {\n  onChange: actions_1.setSettingsString,\n  editSettings: actions_2.editSettings,\n  saveSettings: actions_2.saveSettings\n})(SettingsEditorHOC);\nvar configSelector = reselect_1.createStructuredSelector({\n  value: selectors_1.getConfigString\n});\nexports.GraphQLConfigEditor = react_redux_1.connect(configSelector, {\n  onChange: actions_1.setConfigString\n})(SettingsEditor);\nvar Wrapper = styled_1.styled.div(templateObject_1 || (templateObject_1 = __makeTemplateObject([\"\\n  background: \", \";\\n  position: relative;\\n  display: flex;\\n  flex-flow: column;\\n  flex: 1 1 0;\\n\\n  .CodeMirror {\\n    background: \", \";\\n    .CodeMirror-code {\\n      color: rgba(255, 255, 255, 0.7);\\n    }\\n    .cm-atom {\\n      color: rgba(42, 126, 210, 1);\\n    }\\n  }\\n\"], [\"\\n  background: \", \";\\n  position: relative;\\n  display: flex;\\n  flex-flow: column;\\n  flex: 1 1 0;\\n\\n  .CodeMirror {\\n    background: \", \";\\n    .CodeMirror-code {\\n      color: rgba(255, 255, 255, 0.7);\\n    }\\n    .cm-atom {\\n      color: rgba(42, 126, 210, 1);\\n    }\\n  }\\n\"])), function (p) {\n  return p.theme.editorColours.resultBackground;\n}, function (p) {\n  return p.theme.editorColours.resultBackground;\n});\nvar ButtonWrapper = styled_1.styled.div(templateObject_2 || (templateObject_2 = __makeTemplateObject([\"\\n  position: absolute;\\n  top: 16px;\\n  right: 16px;\\n  z-index: 2;\\n\"], [\"\\n  position: absolute;\\n  top: 16px;\\n  right: 16px;\\n  z-index: 2;\\n\"])));\nvar PlaygroundVersion = styled_1.styled.span(templateObject_3 || (templateObject_3 = __makeTemplateObject([\"\\n  position: absolute;\\n  right: 20px;\\n  bottom: 17px;\\n  color: \", \";\\n  font-weight: 700;\\n  margin-right: 14px;\\n\"], [\"\\n  position: absolute;\\n  right: 20px;\\n  bottom: 17px;\\n  color: \", \";\\n  font-weight: 700;\\n  margin-right: 14px;\\n\"])), function (p) {\n  return p.theme.editorColours.textInactive;\n});\nvar templateObject_1, templateObject_2, templateObject_3;"]},"metadata":{},"sourceType":"script"}