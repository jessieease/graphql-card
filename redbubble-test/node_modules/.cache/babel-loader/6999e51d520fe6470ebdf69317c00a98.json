{"ast":null,"code":"\"use strict\";\n\nvar __extends = void 0 && (void 0).__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar __makeTemplateObject = void 0 && (void 0).__makeTemplateObject || function (cooked, raw) {\n  if (Object.defineProperty) {\n    Object.defineProperty(cooked, \"raw\", {\n      value: raw\n    });\n  } else {\n    cooked.raw = raw;\n  }\n\n  return cooked;\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar React = require(\"react\");\n\nvar react_redux_1 = require(\"react-redux\");\n\nvar createStore_1 = require(\"../state/createStore\");\n\nrequire(\"isomorphic-fetch\");\n\nvar EndpointPopup_1 = require(\"./EndpointPopup\");\n\nvar styled_1 = require(\"../styled\");\n\nvar PlaygroundWrapper_1 = require(\"./PlaygroundWrapper\");\n\nvar actions_1 = require(\"../state/workspace/actions\");\n\nexports.store = createStore_1[\"default\"]();\n\nfunction getParameterByName(name) {\n  var url = window.location.href;\n  name = name.replace(/[\\[\\]]/g, '\\\\$&');\n  var regexa = new RegExp('[?&]' + name + '(=([^&#]*)|&|#|$)');\n  var results = regexa.exec(url);\n\n  if (!results || !results[2]) {\n    return '';\n  }\n\n  return decodeURIComponent(results[2].replace(/\\+/g, ' '));\n}\n\nvar GraphQLBinApp =\n/** @class */\nfunction (_super) {\n  __extends(GraphQLBinApp, _super);\n\n  function GraphQLBinApp(props) {\n    var _this = _super.call(this, props) || this;\n\n    _this.handleChangeEndpoint = function (endpoint) {\n      _this.setState({\n        endpoint: endpoint\n      });\n\n      localStorage.setItem('last-endpoint', endpoint);\n    };\n\n    _this.state = {\n      endpoint: props.endpoint,\n      subscriptionEndpoint: props.subscriptionEndpoint,\n      loading: false,\n      headers: props.headers || {}\n    };\n    return _this;\n  }\n\n  GraphQLBinApp.prototype.UNSAFE_componentWillMount = function () {\n    var _this = this;\n\n    if (this.props.match.params.id) {\n      if (this.props.match.params.id === 'new') {\n        return;\n      }\n\n      this.setState({\n        loading: true\n      }); // DOM side-effect:\n      // #loading-wrapper is a hardcoded DOM element in the HTML entrypoint\n\n      var loadingWrapper_1 = document.getElementById('loading-wrapper');\n\n      if (loadingWrapper_1) {\n        loadingWrapper_1.classList.remove('fadeOut');\n      }\n\n      setTimeout(function () {\n        if (loadingWrapper_1) {\n          loadingWrapper_1.remove();\n        }\n      }, 1000);\n      fetch('https://api.graphqlbin.com', {\n        method: 'post',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          query: \"\\n            query ($id: String!) {\\n              session(id: $id) {\\n                data\\n                endpoint\\n              }\\n            }\\n          \",\n          variables: {\n            id: this.props.match.params.id\n          }\n        })\n      }).then(function (res) {\n        return res.json();\n      }).then(function (res) {\n        if (loadingWrapper_1) {\n          loadingWrapper_1.classList.add('fadeOut');\n        }\n\n        if (!res.data || res.data.session === null) {\n          location.href = location.origin + \"/v2/new\";\n        }\n\n        var state = JSON.parse(res.data.session.data);\n\n        _this.props.injectState(state);\n\n        _this.setState({\n          endpoint: res.data.session.endpoint,\n          loading: false\n        });\n      });\n    }\n  };\n\n  GraphQLBinApp.prototype.render = function () {\n    var _a = this.state,\n        endpoint = _a.endpoint,\n        subscriptionEndpoint = _a.subscriptionEndpoint; // If no  endpoint passed tries to get one from url\n\n    if (!endpoint) {\n      endpoint = getParameterByName('endpoint');\n    }\n\n    if (!subscriptionEndpoint) {\n      subscriptionEndpoint = getParameterByName('subscription');\n    }\n\n    return /*#__PURE__*/React.createElement(Wrapper, null, this.state.loading ? null : !this.state.endpoint || this.state.endpoint.length === 0 ? /*#__PURE__*/React.createElement(styled_1.ThemeProvider, {\n      theme: styled_1.theme\n    }, /*#__PURE__*/React.createElement(EndpointPopup_1[\"default\"], {\n      onRequestClose: this.handleChangeEndpoint,\n      endpoint: this.state.endpoint || ''\n    })) : /*#__PURE__*/React.createElement(PlaygroundWrapper_1[\"default\"], {\n      endpoint: endpoint,\n      headers: this.state.headers,\n      subscriptionEndpoint: subscriptionEndpoint\n    }));\n  };\n\n  return GraphQLBinApp;\n}(React.Component);\n\nvar ConnectedGraphQLBinApp = react_redux_1.connect(null, {\n  injectState: actions_1.injectState\n})(GraphQLBinApp); // tslint:disable\n\nvar GraphQLBinAppHOC =\n/** @class */\nfunction (_super) {\n  __extends(GraphQLBinAppHOC, _super);\n\n  function GraphQLBinAppHOC() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  GraphQLBinAppHOC.prototype.render = function () {\n    return /*#__PURE__*/React.createElement(react_redux_1.Provider, {\n      store: exports.store\n    }, /*#__PURE__*/React.createElement(ConnectedGraphQLBinApp, this.props));\n  };\n\n  return GraphQLBinAppHOC;\n}(React.Component);\n\nexports[\"default\"] = GraphQLBinAppHOC;\nvar Wrapper = styled_1.styled.div(templateObject_1 || (templateObject_1 = __makeTemplateObject([\"\\n  width: 100%;\\n  height: 100%;\\n\"], [\"\\n  width: 100%;\\n  height: 100%;\\n\"])));\nvar templateObject_1;","map":{"version":3,"sources":["/Users/wubo/Desktop/card-design/card-design/node_modules/graphql-playground-react/lib/components/GraphQLBinApp.js"],"names":["__extends","_extendStatics","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","prototype","create","__makeTemplateObject","cooked","raw","defineProperty","value","exports","React","require","react_redux_1","createStore_1","EndpointPopup_1","styled_1","PlaygroundWrapper_1","actions_1","store","getParameterByName","name","url","window","location","href","replace","regexa","RegExp","results","exec","decodeURIComponent","GraphQLBinApp","_super","props","_this","call","handleChangeEndpoint","endpoint","setState","localStorage","setItem","state","subscriptionEndpoint","loading","headers","UNSAFE_componentWillMount","match","params","id","loadingWrapper_1","document","getElementById","classList","remove","setTimeout","fetch","method","body","JSON","stringify","query","variables","then","res","json","add","data","session","origin","parse","injectState","render","_a","createElement","Wrapper","length","ThemeProvider","theme","onRequestClose","Component","ConnectedGraphQLBinApp","connect","GraphQLBinAppHOC","apply","arguments","Provider","styled","div","templateObject_1"],"mappings":"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","sourcesContent":["\"use strict\";\n\nvar __extends = void 0 && (void 0).__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar __makeTemplateObject = void 0 && (void 0).__makeTemplateObject || function (cooked, raw) {\n  if (Object.defineProperty) {\n    Object.defineProperty(cooked, \"raw\", {\n      value: raw\n    });\n  } else {\n    cooked.raw = raw;\n  }\n\n  return cooked;\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar React = require(\"react\");\n\nvar react_redux_1 = require(\"react-redux\");\n\nvar createStore_1 = require(\"../state/createStore\");\n\nrequire(\"isomorphic-fetch\");\n\nvar EndpointPopup_1 = require(\"./EndpointPopup\");\n\nvar styled_1 = require(\"../styled\");\n\nvar PlaygroundWrapper_1 = require(\"./PlaygroundWrapper\");\n\nvar actions_1 = require(\"../state/workspace/actions\");\n\nexports.store = createStore_1[\"default\"]();\n\nfunction getParameterByName(name) {\n  var url = window.location.href;\n  name = name.replace(/[\\[\\]]/g, '\\\\$&');\n  var regexa = new RegExp('[?&]' + name + '(=([^&#]*)|&|#|$)');\n  var results = regexa.exec(url);\n\n  if (!results || !results[2]) {\n    return '';\n  }\n\n  return decodeURIComponent(results[2].replace(/\\+/g, ' '));\n}\n\nvar GraphQLBinApp =\n/** @class */\nfunction (_super) {\n  __extends(GraphQLBinApp, _super);\n\n  function GraphQLBinApp(props) {\n    var _this = _super.call(this, props) || this;\n\n    _this.handleChangeEndpoint = function (endpoint) {\n      _this.setState({\n        endpoint: endpoint\n      });\n\n      localStorage.setItem('last-endpoint', endpoint);\n    };\n\n    _this.state = {\n      endpoint: props.endpoint,\n      subscriptionEndpoint: props.subscriptionEndpoint,\n      loading: false,\n      headers: props.headers || {}\n    };\n    return _this;\n  }\n\n  GraphQLBinApp.prototype.UNSAFE_componentWillMount = function () {\n    var _this = this;\n\n    if (this.props.match.params.id) {\n      if (this.props.match.params.id === 'new') {\n        return;\n      }\n\n      this.setState({\n        loading: true\n      }); // DOM side-effect:\n      // #loading-wrapper is a hardcoded DOM element in the HTML entrypoint\n\n      var loadingWrapper_1 = document.getElementById('loading-wrapper');\n\n      if (loadingWrapper_1) {\n        loadingWrapper_1.classList.remove('fadeOut');\n      }\n\n      setTimeout(function () {\n        if (loadingWrapper_1) {\n          loadingWrapper_1.remove();\n        }\n      }, 1000);\n      fetch('https://api.graphqlbin.com', {\n        method: 'post',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          query: \"\\n            query ($id: String!) {\\n              session(id: $id) {\\n                data\\n                endpoint\\n              }\\n            }\\n          \",\n          variables: {\n            id: this.props.match.params.id\n          }\n        })\n      }).then(function (res) {\n        return res.json();\n      }).then(function (res) {\n        if (loadingWrapper_1) {\n          loadingWrapper_1.classList.add('fadeOut');\n        }\n\n        if (!res.data || res.data.session === null) {\n          location.href = location.origin + \"/v2/new\";\n        }\n\n        var state = JSON.parse(res.data.session.data);\n\n        _this.props.injectState(state);\n\n        _this.setState({\n          endpoint: res.data.session.endpoint,\n          loading: false\n        });\n      });\n    }\n  };\n\n  GraphQLBinApp.prototype.render = function () {\n    var _a = this.state,\n        endpoint = _a.endpoint,\n        subscriptionEndpoint = _a.subscriptionEndpoint; // If no  endpoint passed tries to get one from url\n\n    if (!endpoint) {\n      endpoint = getParameterByName('endpoint');\n    }\n\n    if (!subscriptionEndpoint) {\n      subscriptionEndpoint = getParameterByName('subscription');\n    }\n\n    return /*#__PURE__*/React.createElement(Wrapper, null, this.state.loading ? null : !this.state.endpoint || this.state.endpoint.length === 0 ? /*#__PURE__*/React.createElement(styled_1.ThemeProvider, {\n      theme: styled_1.theme\n    }, /*#__PURE__*/React.createElement(EndpointPopup_1[\"default\"], {\n      onRequestClose: this.handleChangeEndpoint,\n      endpoint: this.state.endpoint || ''\n    })) : /*#__PURE__*/React.createElement(PlaygroundWrapper_1[\"default\"], {\n      endpoint: endpoint,\n      headers: this.state.headers,\n      subscriptionEndpoint: subscriptionEndpoint\n    }));\n  };\n\n  return GraphQLBinApp;\n}(React.Component);\n\nvar ConnectedGraphQLBinApp = react_redux_1.connect(null, {\n  injectState: actions_1.injectState\n})(GraphQLBinApp); // tslint:disable\n\nvar GraphQLBinAppHOC =\n/** @class */\nfunction (_super) {\n  __extends(GraphQLBinAppHOC, _super);\n\n  function GraphQLBinAppHOC() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  GraphQLBinAppHOC.prototype.render = function () {\n    return /*#__PURE__*/React.createElement(react_redux_1.Provider, {\n      store: exports.store\n    }, /*#__PURE__*/React.createElement(ConnectedGraphQLBinApp, this.props));\n  };\n\n  return GraphQLBinAppHOC;\n}(React.Component);\n\nexports[\"default\"] = GraphQLBinAppHOC;\nvar Wrapper = styled_1.styled.div(templateObject_1 || (templateObject_1 = __makeTemplateObject([\"\\n  width: 100%;\\n  height: 100%;\\n\"], [\"\\n  width: 100%;\\n  height: 100%;\\n\"])));\nvar templateObject_1;"]},"metadata":{},"sourceType":"script"}