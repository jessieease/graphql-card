{"ast":null,"code":"\"use strict\";\n\nvar __extends = void 0 && (void 0).__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar __makeTemplateObject = void 0 && (void 0).__makeTemplateObject || function (cooked, raw) {\n  if (Object.defineProperty) {\n    Object.defineProperty(cooked, \"raw\", {\n      value: raw\n    });\n  } else {\n    cooked.raw = raw;\n  }\n\n  return cooked;\n};\n\nvar __assign = void 0 && (void 0).__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __awaiter = void 0 && (void 0).__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\n\nvar __generator = void 0 && (void 0).__generator || function (thisArg, body) {\n  var _ = {\n    label: 0,\n    sent: function sent() {\n      if (t[0] & 1) throw t[1];\n      return t[1];\n    },\n    trys: [],\n    ops: []\n  },\n      f,\n      y,\n      t,\n      g;\n  return g = {\n    next: verb(0),\n    \"throw\": verb(1),\n    \"return\": verb(2)\n  }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function () {\n    return this;\n  }), g;\n\n  function verb(n) {\n    return function (v) {\n      return step([n, v]);\n    };\n  }\n\n  function step(op) {\n    if (f) throw new TypeError(\"Generator is already executing.\");\n\n    while (_) {\n      try {\n        if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n        if (y = 0, t) op = [op[0] & 2, t.value];\n\n        switch (op[0]) {\n          case 0:\n          case 1:\n            t = op;\n            break;\n\n          case 4:\n            _.label++;\n            return {\n              value: op[1],\n              done: false\n            };\n\n          case 5:\n            _.label++;\n            y = op[1];\n            op = [0];\n            continue;\n\n          case 7:\n            op = _.ops.pop();\n\n            _.trys.pop();\n\n            continue;\n\n          default:\n            if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {\n              _ = 0;\n              continue;\n            }\n\n            if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {\n              _.label = op[1];\n              break;\n            }\n\n            if (op[0] === 6 && _.label < t[1]) {\n              _.label = t[1];\n              t = op;\n              break;\n            }\n\n            if (t && _.label < t[2]) {\n              _.label = t[2];\n\n              _.ops.push(op);\n\n              break;\n            }\n\n            if (t[2]) _.ops.pop();\n\n            _.trys.pop();\n\n            continue;\n        }\n\n        op = body.call(thisArg, _);\n      } catch (e) {\n        op = [6, e];\n        y = 0;\n      } finally {\n        f = t = 0;\n      }\n    }\n\n    if (op[0] & 5) throw op[1];\n    return {\n      value: op[0] ? op[1] : void 0,\n      done: true\n    };\n  }\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar React = require(\"react\");\n\nvar GraphQLEditor_1 = require(\"./Playground/GraphQLEditor\");\n\nexports.GraphQLEditor = GraphQLEditor_1[\"default\"];\n\nvar TabBar_1 = require(\"./Playground/TabBar\");\n\nvar HistoryPopup_1 = require(\"./HistoryPopup\");\n\nvar styled_1 = require(\"../styled\");\n\nvar Settings_1 = require(\"./Settings\");\n\nvar SettingsEditor_1 = require(\"./SettingsEditor\");\n\nvar FileEditor_1 = require(\"./FileEditor\");\n\nvar app = require(\"../../package.json\");\n\nvar react_redux_1 = require(\"react-redux\");\n\nvar actions_1 = require(\"../state/sessions/actions\");\n\nvar actions_2 = require(\"../state/general/actions\");\n\nvar actions_3 = require(\"../state/workspace/actions\");\n\nvar graphql_1 = require(\"graphql\");\n\nvar reselect_1 = require(\"reselect\");\n\nvar selectors_1 = require(\"../state/sessions/selectors\");\n\nvar selectors_2 = require(\"../state/general/selectors\");\n\nvar fetchingSagas_1 = require(\"../state/sessions/fetchingSagas\");\n\nvar getWorkspaceId_1 = require(\"./Playground/util/getWorkspaceId\");\n\nvar reducers_1 = require(\"../state/workspace/reducers\");\n\nvar fibonacci_backoff_1 = require(\"./Playground/util/fibonacci-backoff\");\n\nvar lodash_1 = require(\"lodash\");\n\nvar util_1 = require(\"./util\");\n\nvar InvalidSchemaError_1 = require(\"./Playground/util/InvalidSchemaError\");\n\nvar Playground =\n/** @class */\nfunction (_super) {\n  __extends(Playground, _super);\n\n  function Playground(props) {\n    var _this = _super.call(this, props) || this;\n\n    _this.apolloLinks = {};\n    _this.observers = {};\n    _this.graphiqlComponents = []; // debounce as we call this on each http header or endpoint edit\n\n    _this.getSchema = lodash_1.debounce(function (props) {\n      if (props === void 0) {\n        props = _this.props;\n      }\n\n      return __awaiter(_this, void 0, void 0, function () {\n        var first;\n\n        var _this = this;\n\n        return __generator(this, function (_a) {\n          if (props.schema) {\n            return [2\n            /*return*/\n            ];\n          }\n\n          if (this.mounted && this.state.schema && !props.isPollingSchema) {\n            this.setState({\n              schema: undefined\n            });\n          }\n\n          first = true;\n\n          if (this.backoff) {\n            this.backoff.stop();\n          }\n\n          this.backoff = new fibonacci_backoff_1.Backoff(function () {\n            return __awaiter(_this, void 0, void 0, function () {\n              return __generator(this, function (_a) {\n                switch (_a.label) {\n                  case 0:\n                    if (!first) return [3\n                    /*break*/\n                    , 2];\n                    return [4\n                    /*yield*/\n                    , this.schemaGetter(props)];\n\n                  case 1:\n                    _a.sent();\n\n                    first = false;\n                    return [3\n                    /*break*/\n                    , 4];\n\n                  case 2:\n                    return [4\n                    /*yield*/\n                    , this.schemaGetter()];\n\n                  case 3:\n                    _a.sent();\n\n                    _a.label = 4;\n\n                  case 4:\n                    return [2\n                    /*return*/\n                    ];\n                }\n              });\n            });\n          });\n          this.backoff.start();\n          return [2\n          /*return*/\n          ];\n        });\n      });\n    }, 600, {\n      trailing: true\n    });\n    _this.initialIndex = -1;\n    _this.mounted = false;\n    _this.initialSchemaFetch = true;\n\n    _this.setRef = function (index, ref) {\n      _this.graphiqlComponents[index] = ref ? ref.getWrappedInstance() : ref;\n    };\n\n    _this.closeTab = function () {\n      _this.props.closeSelectedTab();\n    };\n\n    _this.nextTab = function () {\n      _this.props.selectNextTab();\n    };\n\n    _this.prevTab = function () {\n      _this.props.selectPrevTab();\n    };\n\n    _this.switchTab = function (index) {\n      _this.props.selectTabIndex(index);\n    };\n\n    _this.handleSaveConfig = function () {\n      _this.props.saveConfig();\n\n      _this.props.onSaveConfig();\n    };\n\n    _this.handleSaveSettings = function () {\n      _this.props.saveSettings();\n\n      _this.props.onSaveSettings();\n    };\n\n    _this.createSession = function () {\n      _this.props.newSession(_this.props.endpoint, _this.props.settings['editor.reuseHeaders']);\n    };\n\n    if (props.schema) {\n      var validationErrors = graphql_1.validateSchema(props.schema);\n\n      if (validationErrors && validationErrors.length > 0) {\n        throw new InvalidSchemaError_1.InvalidSchemaError(validationErrors);\n      }\n    }\n\n    _this.state = {\n      schema: props.schema\n    };\n    global.p = _this;\n\n    if (typeof _this.props.getRef === 'function') {\n      _this.props.getRef(_this);\n    }\n\n    fetchingSagas_1.setLinkCreator(props.createApolloLink);\n\n    _this.getSchema();\n\n    fetchingSagas_1.setSubscriptionEndpoint(props.subscriptionEndpoint);\n    return _this;\n  }\n\n  Playground.prototype.UNSAFE_componentWillMount = function () {\n    // init redux\n    this.props.initState(getWorkspaceId_1.getWorkspaceId(this.props), this.props.endpoint);\n    this.props.setConfigString(this.props.configString);\n    this.props.injectHeaders(this.props.headers, this.props.endpoint);\n  };\n\n  Playground.prototype.componentDidMount = function () {\n    if (this.initialIndex > -1) {\n      this.setState({\n        selectedSessionIndex: this.initialIndex\n      });\n    }\n\n    this.mounted = true;\n  };\n\n  Playground.prototype.UNSAFE_componentWillReceiveProps = function (nextProps) {\n    var _this = this;\n\n    if (this.props.createApolloLink !== nextProps.createApolloLink) {\n      fetchingSagas_1.setLinkCreator(nextProps.createApolloLink);\n    }\n\n    if (nextProps.headers !== this.props.headers || nextProps.endpoint !== this.props.endpoint || nextProps.workspaceName !== this.props.workspaceName || nextProps.sessionHeaders !== this.props.sessionHeaders || nextProps.sessionEndpoint !== this.props.sessionEndpoint) {\n      this.getSchema(nextProps);\n    }\n\n    if (this.props.isReloadingSchema && !nextProps.isReloadingSchema) {\n      setTimeout(function () {\n        _this.getSchema(nextProps);\n      });\n    }\n\n    if (this.props.endpoint !== nextProps.endpoint || this.props.configPath !== nextProps.configPath || nextProps.workspaceName !== this.props.workspaceName) {\n      this.props.initState(getWorkspaceId_1.getWorkspaceId(nextProps), nextProps.endpoint);\n    }\n\n    if (this.props.subscriptionEndpoint !== nextProps.subscriptionEndpoint) {\n      fetchingSagas_1.setSubscriptionEndpoint(nextProps.subscriptionEndpoint);\n    }\n\n    if (nextProps.headers !== this.props.headers) {\n      this.props.injectHeaders(nextProps.headers, nextProps.endpoint);\n    }\n\n    if (nextProps.configString !== this.props.configString) {\n      this.props.setConfigString(nextProps.configString);\n    }\n\n    if (nextProps.schema !== this.props.schema) {\n      var validationErrors = graphql_1.validateSchema(nextProps.schema);\n\n      if (validationErrors && validationErrors.length > 0) {\n        throw new InvalidSchemaError_1.InvalidSchemaError(validationErrors);\n      }\n\n      this.setState({\n        schema: nextProps.schema\n      });\n    }\n  };\n\n  Playground.prototype.schemaGetter = function (propsInput) {\n    return __awaiter(this, void 0, void 0, function () {\n      var props, endpoint, currentSchema, globalHeaders, data_1, schema, e_1;\n\n      var _this = this;\n\n      return __generator(this, function (_a) {\n        switch (_a.label) {\n          case 0:\n            props = propsInput || this.props;\n            endpoint = props.sessionEndpoint || props.endpoint;\n            currentSchema = this.state.schema;\n            globalHeaders = props.settings['request.globalHeaders'];\n            _a.label = 1;\n\n          case 1:\n            _a.trys.push([1, 3,, 4]);\n\n            data_1 = {\n              endpoint: endpoint,\n              headers: props.sessionHeaders && props.sessionHeaders.length > 0 ? JSON.stringify(__assign(__assign({}, globalHeaders), JSON.parse(props.sessionHeaders))) : JSON.stringify(__assign(__assign({}, globalHeaders), props.headers)),\n              credentials: props.settings['request.credentials'],\n              useTracingHeader: !this.initialSchemaFetch && props.settings['tracing.tracingSupported']\n            };\n            return [4\n            /*yield*/\n            , fetchingSagas_1.schemaFetcher.fetch(data_1)];\n\n          case 2:\n            schema = _a.sent();\n            fetchingSagas_1.schemaFetcher.subscribe(data_1, function (newSchema) {\n              if (data_1.endpoint === _this.props.endpoint || data_1.endpoint === _this.props.sessionEndpoint) {\n                _this.updateSchema(currentSchema, newSchema, props);\n              }\n            });\n\n            if (schema) {\n              this.updateSchema(currentSchema, schema.schema, props);\n\n              if (this.initialSchemaFetch) {\n                this.props.schemaFetchingSuccess(data_1.endpoint, schema.tracingSupported, props.isPollingSchema);\n                this.initialSchemaFetch = false;\n              }\n\n              this.backoff.stop();\n            }\n\n            return [3\n            /*break*/\n            , 4];\n\n          case 3:\n            e_1 = _a.sent(); // tslint:disable-next-line\n\n            console.error(e_1);\n            this.props.schemaFetchingError(endpoint, e_1.message);\n            return [3\n            /*break*/\n            , 4];\n\n          case 4:\n            return [2\n            /*return*/\n            ];\n        }\n      });\n    });\n  };\n\n  Playground.prototype.render = function () {\n    var version = app.version;\n    window.version = version;\n    return /*#__PURE__*/React.createElement(PlaygroundContainer, {\n      className: \"playground\"\n    }, /*#__PURE__*/React.createElement(TabBar_1[\"default\"], {\n      onNewSession: this.createSession,\n      isApp: this.props.isApp\n    }), /*#__PURE__*/React.createElement(GraphiqlsContainer, null, /*#__PURE__*/React.createElement(GraphiqlWrapper, {\n      className: \"graphiql-wrapper active\"\n    }, this.props.isConfigTab ? /*#__PURE__*/React.createElement(SettingsEditor_1.GraphQLConfigEditor, {\n      onSave: this.handleSaveConfig,\n      isYaml: this.props.configIsYaml,\n      isConfig: true,\n      readOnly: !this.props.canSaveConfig\n    }) : this.props.isSettingsTab ? /*#__PURE__*/React.createElement(SettingsEditor_1.PlaygroundSettingsEditor, {\n      onSave: this.handleSaveSettings\n    }) : this.props.isFile && this.props.file ? /*#__PURE__*/React.createElement(FileEditor_1[\"default\"], null) : /*#__PURE__*/React.createElement(GraphQLEditor_1[\"default\"], {\n      shareEnabled: this.props.shareEnabled,\n      fixedEndpoint: this.props.fixedEndpoint,\n      schema: this.state.schema\n    }))), /*#__PURE__*/React.createElement(Settings_1[\"default\"], null), this.props.historyOpen && this.renderHistoryPopup());\n  };\n\n  Playground.prototype.renderHistoryPopup = function () {\n    return /*#__PURE__*/React.createElement(HistoryPopup_1[\"default\"], null);\n  };\n\n  Playground.prototype.updateSchema = function (currentSchema, newSchema, props) {\n    // first check for reference equality\n    if (currentSchema !== newSchema) {\n      // if references are not equal, do an equality check on the printed schema\n      var currentSchemaStr = currentSchema ? util_1.cachedPrintSchema(currentSchema) : null;\n      var newSchemaStr = util_1.cachedPrintSchema(newSchema);\n\n      if (newSchemaStr !== currentSchemaStr || !props.isPollingSchema) {\n        this.setState({\n          schema: newSchema\n        });\n      }\n    }\n  };\n\n  Object.defineProperty(Playground.prototype, \"httpApiPrefix\", {\n    get: function get() {\n      return this.props.endpoint.match(/(https?:\\/\\/.*?)\\/?/)[1];\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Playground.defaultProps = {\n    shareEnabled: false\n  };\n  return Playground;\n}(React.PureComponent);\n\nexports.Playground = Playground;\nvar mapStateToProps = reselect_1.createStructuredSelector({\n  isConfigTab: selectors_1.getIsConfigTab,\n  isSettingsTab: selectors_1.getIsSettingsTab,\n  isFile: selectors_1.getIsFile,\n  historyOpen: selectors_2.getHistoryOpen,\n  file: selectors_1.getFile,\n  sessionHeaders: selectors_1.getHeaders,\n  settings: reducers_1.getSettings,\n  settingsString: reducers_1.getSettingsString,\n  isReloadingSchema: selectors_1.getIsReloadingSchema,\n  isPollingSchema: selectors_1.getIsPollingSchema,\n  sessionEndpoint: selectors_1.getEndpoint\n});\nexports[\"default\"] = react_redux_1.connect(mapStateToProps, {\n  selectTabIndex: actions_1.selectTabIndex,\n  selectNextTab: actions_1.selectNextTab,\n  selectPrevTab: actions_1.selectPrevTab,\n  newSession: actions_1.newSession,\n  closeSelectedTab: actions_1.closeSelectedTab,\n  initState: actions_3.initState,\n  saveSettings: actions_1.saveSettings,\n  saveConfig: actions_1.saveConfig,\n  setTracingSupported: actions_1.setTracingSupported,\n  injectHeaders: actions_1.injectHeaders,\n  setConfigString: actions_2.setConfigString,\n  schemaFetchingError: actions_1.schemaFetchingError,\n  schemaFetchingSuccess: actions_1.schemaFetchingSuccess\n})(Playground);\nvar PlaygroundContainer = styled_1.styled.div(templateObject_1 || (templateObject_1 = __makeTemplateObject([\"\\n  flex: 1;\\n  display: flex;\\n  flex-direction: column;\\n\\n  height: 100%;\\n  margin: 0;\\n  padding: 0;\\n  overflow: hidden;\\n  margin-right: -1px !important;\\n\\n  line-height: 1.5;\\n  font-family: 'Open Sans', sans-serif;\\n  -webkit-font-smoothing: antialiased;\\n  -moz-osx-font-smoothing: grayscale;\\n  letter-spacing: 0.53px;\\n  color: rgba(0, 0, 0, 0.8);\\n\\n  a:active,\\n  a:focus,\\n  button:focus,\\n  input:focus {\\n    outline: none;\\n  }\\n\"], [\"\\n  flex: 1;\\n  display: flex;\\n  flex-direction: column;\\n\\n  height: 100%;\\n  margin: 0;\\n  padding: 0;\\n  overflow: hidden;\\n  margin-right: -1px !important;\\n\\n  line-height: 1.5;\\n  font-family: 'Open Sans', sans-serif;\\n  -webkit-font-smoothing: antialiased;\\n  -moz-osx-font-smoothing: grayscale;\\n  letter-spacing: 0.53px;\\n  color: rgba(0, 0, 0, 0.8);\\n\\n  a:active,\\n  a:focus,\\n  button:focus,\\n  input:focus {\\n    outline: none;\\n  }\\n\"])));\nvar GraphiqlsContainer = styled_1.styled.div(templateObject_2 || (templateObject_2 = __makeTemplateObject([\"\\n  height: calc(100vh - 57px);\\n  position: relative;\\n  overflow: hidden;\\n\"], [\"\\n  height: calc(100vh - 57px);\\n  position: relative;\\n  overflow: hidden;\\n\"])));\nvar GraphiqlWrapper = styled_1.styled.div(templateObject_3 || (templateObject_3 = __makeTemplateObject([\"\\n  width: 100%;\\n  height: 100%;\\n  position: relative;\\n  overflow: hidden;\\n  visibility: hidden;\\n  &.active {\\n    visibility: visible;\\n  }\\n\"], [\"\\n  width: 100%;\\n  height: 100%;\\n  position: relative;\\n  overflow: hidden;\\n  visibility: hidden;\\n  &.active {\\n    visibility: visible;\\n  }\\n\"])));\nvar templateObject_1, templateObject_2, templateObject_3;","map":{"version":3,"sources":["/Users/wubo/Desktop/card-design/card-design/node_modules/graphql-playground-react/lib/components/Playground.js"],"names":["__extends","_extendStatics","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","prototype","create","__makeTemplateObject","cooked","raw","defineProperty","value","__assign","assign","t","s","i","n","arguments","length","call","apply","__awaiter","thisArg","_arguments","P","generator","adopt","resolve","Promise","reject","fulfilled","step","next","e","rejected","result","done","then","__generator","body","_","label","sent","trys","ops","f","y","g","verb","Symbol","iterator","v","op","TypeError","pop","push","exports","React","require","GraphQLEditor_1","GraphQLEditor","TabBar_1","HistoryPopup_1","styled_1","Settings_1","SettingsEditor_1","FileEditor_1","app","react_redux_1","actions_1","actions_2","actions_3","graphql_1","reselect_1","selectors_1","selectors_2","fetchingSagas_1","getWorkspaceId_1","reducers_1","fibonacci_backoff_1","lodash_1","util_1","InvalidSchemaError_1","Playground","_super","props","_this","apolloLinks","observers","graphiqlComponents","getSchema","debounce","first","_a","schema","mounted","state","isPollingSchema","setState","undefined","backoff","stop","Backoff","schemaGetter","start","trailing","initialIndex","initialSchemaFetch","setRef","index","ref","getWrappedInstance","closeTab","closeSelectedTab","nextTab","selectNextTab","prevTab","selectPrevTab","switchTab","selectTabIndex","handleSaveConfig","saveConfig","onSaveConfig","handleSaveSettings","saveSettings","onSaveSettings","createSession","newSession","endpoint","settings","validationErrors","validateSchema","InvalidSchemaError","global","getRef","setLinkCreator","createApolloLink","setSubscriptionEndpoint","subscriptionEndpoint","UNSAFE_componentWillMount","initState","getWorkspaceId","setConfigString","configString","injectHeaders","headers","componentDidMount","selectedSessionIndex","UNSAFE_componentWillReceiveProps","nextProps","workspaceName","sessionHeaders","sessionEndpoint","isReloadingSchema","setTimeout","configPath","propsInput","currentSchema","globalHeaders","data_1","e_1","JSON","stringify","parse","credentials","useTracingHeader","schemaFetcher","fetch","subscribe","newSchema","updateSchema","schemaFetchingSuccess","tracingSupported","console","error","schemaFetchingError","message","render","version","window","createElement","PlaygroundContainer","className","onNewSession","isApp","GraphiqlsContainer","GraphiqlWrapper","isConfigTab","GraphQLConfigEditor","onSave","isYaml","configIsYaml","isConfig","readOnly","canSaveConfig","isSettingsTab","PlaygroundSettingsEditor","isFile","file","shareEnabled","fixedEndpoint","historyOpen","renderHistoryPopup","currentSchemaStr","cachedPrintSchema","newSchemaStr","get","match","enumerable","configurable","defaultProps","PureComponent","mapStateToProps","createStructuredSelector","getIsConfigTab","getIsSettingsTab","getIsFile","getHistoryOpen","getFile","getHeaders","getSettings","settingsString","getSettingsString","getIsReloadingSchema","getIsPollingSchema","getEndpoint","connect","setTracingSupported","styled","div","templateObject_1","templateObject_2","templateObject_3"],"mappings":"AAAA;;AAEA,IAAIA,SAAS,GAAG,KAAK,CAAL,IAAU,CAAC,KAAK,CAAN,EAASA,SAAnB,IAAgC,YAAY;AAC1D,MAAIC,cAAc,GAAG,SAASC,aAAT,CAAuBC,CAAvB,EAA0BC,CAA1B,EAA6B;AAChDH,IAAAA,cAAc,GAAGI,MAAM,CAACC,cAAP,IAAyB;AACxCC,MAAAA,SAAS,EAAE;AAD6B,iBAE7BC,KAF6B,IAEpB,UAAUL,CAAV,EAAaC,CAAb,EAAgB;AACpCD,MAAAA,CAAC,CAACI,SAAF,GAAcH,CAAd;AACD,KAJgB,IAIZ,UAAUD,CAAV,EAAaC,CAAb,EAAgB;AACnB,WAAK,IAAIK,CAAT,IAAcL,CAAd,EAAiB;AACf,YAAIA,CAAC,CAACM,cAAF,CAAiBD,CAAjB,CAAJ,EAAyBN,CAAC,CAACM,CAAD,CAAD,GAAOL,CAAC,CAACK,CAAD,CAAR;AAC1B;AACF,KARD;;AAUA,WAAOR,cAAc,CAACE,CAAD,EAAIC,CAAJ,CAArB;AACD,GAZD;;AAcA,SAAO,UAAUD,CAAV,EAAaC,CAAb,EAAgB;AACrBH,IAAAA,cAAc,CAACE,CAAD,EAAIC,CAAJ,CAAd;;AAEA,aAASO,EAAT,GAAc;AACZ,WAAKC,WAAL,GAAmBT,CAAnB;AACD;;AAEDA,IAAAA,CAAC,CAACU,SAAF,GAAcT,CAAC,KAAK,IAAN,GAAaC,MAAM,CAACS,MAAP,CAAcV,CAAd,CAAb,IAAiCO,EAAE,CAACE,SAAH,GAAeT,CAAC,CAACS,SAAjB,EAA4B,IAAIF,EAAJ,EAA7D,CAAd;AACD,GARD;AASD,CAxB+C,EAAhD;;AA0BA,IAAII,oBAAoB,GAAG,KAAK,CAAL,IAAU,CAAC,KAAK,CAAN,EAASA,oBAAnB,IAA2C,UAAUC,MAAV,EAAkBC,GAAlB,EAAuB;AAC3F,MAAIZ,MAAM,CAACa,cAAX,EAA2B;AACzBb,IAAAA,MAAM,CAACa,cAAP,CAAsBF,MAAtB,EAA8B,KAA9B,EAAqC;AACnCG,MAAAA,KAAK,EAAEF;AAD4B,KAArC;AAGD,GAJD,MAIO;AACLD,IAAAA,MAAM,CAACC,GAAP,GAAaA,GAAb;AACD;;AAED,SAAOD,MAAP;AACD,CAVD;;AAYA,IAAII,QAAQ,GAAG,KAAK,CAAL,IAAU,CAAC,KAAK,CAAN,EAASA,QAAnB,IAA+B,YAAY;AACxDA,EAAAA,QAAQ,GAAGf,MAAM,CAACgB,MAAP,IAAiB,UAAUC,CAAV,EAAa;AACvC,SAAK,IAAIC,CAAJ,EAAOC,CAAC,GAAG,CAAX,EAAcC,CAAC,GAAGC,SAAS,CAACC,MAAjC,EAAyCH,CAAC,GAAGC,CAA7C,EAAgDD,CAAC,EAAjD,EAAqD;AACnDD,MAAAA,CAAC,GAAGG,SAAS,CAACF,CAAD,CAAb;;AAEA,WAAK,IAAIf,CAAT,IAAcc,CAAd,EAAiB;AACf,YAAIlB,MAAM,CAACQ,SAAP,CAAiBH,cAAjB,CAAgCkB,IAAhC,CAAqCL,CAArC,EAAwCd,CAAxC,CAAJ,EAAgDa,CAAC,CAACb,CAAD,CAAD,GAAOc,CAAC,CAACd,CAAD,CAAR;AACjD;AACF;;AAED,WAAOa,CAAP;AACD,GAVD;;AAYA,SAAOF,QAAQ,CAACS,KAAT,CAAe,IAAf,EAAqBH,SAArB,CAAP;AACD,CAdD;;AAgBA,IAAII,SAAS,GAAG,KAAK,CAAL,IAAU,CAAC,KAAK,CAAN,EAASA,SAAnB,IAAgC,UAAUC,OAAV,EAAmBC,UAAnB,EAA+BC,CAA/B,EAAkCC,SAAlC,EAA6C;AAC3F,WAASC,KAAT,CAAehB,KAAf,EAAsB;AACpB,WAAOA,KAAK,YAAYc,CAAjB,GAAqBd,KAArB,GAA6B,IAAIc,CAAJ,CAAM,UAAUG,OAAV,EAAmB;AAC3DA,MAAAA,OAAO,CAACjB,KAAD,CAAP;AACD,KAFmC,CAApC;AAGD;;AAED,SAAO,KAAKc,CAAC,KAAKA,CAAC,GAAGI,OAAT,CAAN,EAAyB,UAAUD,OAAV,EAAmBE,MAAnB,EAA2B;AACzD,aAASC,SAAT,CAAmBpB,KAAnB,EAA0B;AACxB,UAAI;AACFqB,QAAAA,IAAI,CAACN,SAAS,CAACO,IAAV,CAAetB,KAAf,CAAD,CAAJ;AACD,OAFD,CAEE,OAAOuB,CAAP,EAAU;AACVJ,QAAAA,MAAM,CAACI,CAAD,CAAN;AACD;AACF;;AAED,aAASC,QAAT,CAAkBxB,KAAlB,EAAyB;AACvB,UAAI;AACFqB,QAAAA,IAAI,CAACN,SAAS,CAAC,OAAD,CAAT,CAAmBf,KAAnB,CAAD,CAAJ;AACD,OAFD,CAEE,OAAOuB,CAAP,EAAU;AACVJ,QAAAA,MAAM,CAACI,CAAD,CAAN;AACD;AACF;;AAED,aAASF,IAAT,CAAcI,MAAd,EAAsB;AACpBA,MAAAA,MAAM,CAACC,IAAP,GAAcT,OAAO,CAACQ,MAAM,CAACzB,KAAR,CAArB,GAAsCgB,KAAK,CAACS,MAAM,CAACzB,KAAR,CAAL,CAAoB2B,IAApB,CAAyBP,SAAzB,EAAoCI,QAApC,CAAtC;AACD;;AAEDH,IAAAA,IAAI,CAAC,CAACN,SAAS,GAAGA,SAAS,CAACL,KAAV,CAAgBE,OAAhB,EAAyBC,UAAU,IAAI,EAAvC,CAAb,EAAyDS,IAAzD,EAAD,CAAJ;AACD,GAtBM,CAAP;AAuBD,CA9BD;;AAgCA,IAAIM,WAAW,GAAG,KAAK,CAAL,IAAU,CAAC,KAAK,CAAN,EAASA,WAAnB,IAAkC,UAAUhB,OAAV,EAAmBiB,IAAnB,EAAyB;AAC3E,MAAIC,CAAC,GAAG;AACNC,IAAAA,KAAK,EAAE,CADD;AAENC,IAAAA,IAAI,EAAE,SAASA,IAAT,GAAgB;AACpB,UAAI7B,CAAC,CAAC,CAAD,CAAD,GAAO,CAAX,EAAc,MAAMA,CAAC,CAAC,CAAD,CAAP;AACd,aAAOA,CAAC,CAAC,CAAD,CAAR;AACD,KALK;AAMN8B,IAAAA,IAAI,EAAE,EANA;AAONC,IAAAA,GAAG,EAAE;AAPC,GAAR;AAAA,MASIC,CATJ;AAAA,MAUIC,CAVJ;AAAA,MAWIjC,CAXJ;AAAA,MAYIkC,CAZJ;AAaA,SAAOA,CAAC,GAAG;AACTf,IAAAA,IAAI,EAAEgB,IAAI,CAAC,CAAD,CADD;AAET,aAASA,IAAI,CAAC,CAAD,CAFJ;AAGT,cAAUA,IAAI,CAAC,CAAD;AAHL,GAAJ,EAIJ,OAAOC,MAAP,KAAkB,UAAlB,KAAiCF,CAAC,CAACE,MAAM,CAACC,QAAR,CAAD,GAAqB,YAAY;AACnE,WAAO,IAAP;AACD,GAFE,CAJI,EAMHH,CANJ;;AAQA,WAASC,IAAT,CAAchC,CAAd,EAAiB;AACf,WAAO,UAAUmC,CAAV,EAAa;AAClB,aAAOpB,IAAI,CAAC,CAACf,CAAD,EAAImC,CAAJ,CAAD,CAAX;AACD,KAFD;AAGD;;AAED,WAASpB,IAAT,CAAcqB,EAAd,EAAkB;AAChB,QAAIP,CAAJ,EAAO,MAAM,IAAIQ,SAAJ,CAAc,iCAAd,CAAN;;AAEP,WAAOb,CAAP,EAAU;AACR,UAAI;AACF,YAAIK,CAAC,GAAG,CAAJ,EAAOC,CAAC,KAAKjC,CAAC,GAAGuC,EAAE,CAAC,CAAD,CAAF,GAAQ,CAAR,GAAYN,CAAC,CAAC,QAAD,CAAb,GAA0BM,EAAE,CAAC,CAAD,CAAF,GAAQN,CAAC,CAAC,OAAD,CAAD,KAAe,CAACjC,CAAC,GAAGiC,CAAC,CAAC,QAAD,CAAN,KAAqBjC,CAAC,CAACM,IAAF,CAAO2B,CAAP,CAArB,EAAgC,CAA/C,CAAR,GAA4DA,CAAC,CAACd,IAAjG,CAAD,IAA2G,CAAC,CAACnB,CAAC,GAAGA,CAAC,CAACM,IAAF,CAAO2B,CAAP,EAAUM,EAAE,CAAC,CAAD,CAAZ,CAAL,EAAuBhB,IAA9I,EAAoJ,OAAOvB,CAAP;AACpJ,YAAIiC,CAAC,GAAG,CAAJ,EAAOjC,CAAX,EAAcuC,EAAE,GAAG,CAACA,EAAE,CAAC,CAAD,CAAF,GAAQ,CAAT,EAAYvC,CAAC,CAACH,KAAd,CAAL;;AAEd,gBAAQ0C,EAAE,CAAC,CAAD,CAAV;AACE,eAAK,CAAL;AACA,eAAK,CAAL;AACEvC,YAAAA,CAAC,GAAGuC,EAAJ;AACA;;AAEF,eAAK,CAAL;AACEZ,YAAAA,CAAC,CAACC,KAAF;AACA,mBAAO;AACL/B,cAAAA,KAAK,EAAE0C,EAAE,CAAC,CAAD,CADJ;AAELhB,cAAAA,IAAI,EAAE;AAFD,aAAP;;AAKF,eAAK,CAAL;AACEI,YAAAA,CAAC,CAACC,KAAF;AACAK,YAAAA,CAAC,GAAGM,EAAE,CAAC,CAAD,CAAN;AACAA,YAAAA,EAAE,GAAG,CAAC,CAAD,CAAL;AACA;;AAEF,eAAK,CAAL;AACEA,YAAAA,EAAE,GAAGZ,CAAC,CAACI,GAAF,CAAMU,GAAN,EAAL;;AAEAd,YAAAA,CAAC,CAACG,IAAF,CAAOW,GAAP;;AAEA;;AAEF;AACE,gBAAI,EAAEzC,CAAC,GAAG2B,CAAC,CAACG,IAAN,EAAY9B,CAAC,GAAGA,CAAC,CAACK,MAAF,GAAW,CAAX,IAAgBL,CAAC,CAACA,CAAC,CAACK,MAAF,GAAW,CAAZ,CAAnC,MAAuDkC,EAAE,CAAC,CAAD,CAAF,KAAU,CAAV,IAAeA,EAAE,CAAC,CAAD,CAAF,KAAU,CAAhF,CAAJ,EAAwF;AACtFZ,cAAAA,CAAC,GAAG,CAAJ;AACA;AACD;;AAED,gBAAIY,EAAE,CAAC,CAAD,CAAF,KAAU,CAAV,KAAgB,CAACvC,CAAD,IAAMuC,EAAE,CAAC,CAAD,CAAF,GAAQvC,CAAC,CAAC,CAAD,CAAT,IAAgBuC,EAAE,CAAC,CAAD,CAAF,GAAQvC,CAAC,CAAC,CAAD,CAA/C,CAAJ,EAAyD;AACvD2B,cAAAA,CAAC,CAACC,KAAF,GAAUW,EAAE,CAAC,CAAD,CAAZ;AACA;AACD;;AAED,gBAAIA,EAAE,CAAC,CAAD,CAAF,KAAU,CAAV,IAAeZ,CAAC,CAACC,KAAF,GAAU5B,CAAC,CAAC,CAAD,CAA9B,EAAmC;AACjC2B,cAAAA,CAAC,CAACC,KAAF,GAAU5B,CAAC,CAAC,CAAD,CAAX;AACAA,cAAAA,CAAC,GAAGuC,EAAJ;AACA;AACD;;AAED,gBAAIvC,CAAC,IAAI2B,CAAC,CAACC,KAAF,GAAU5B,CAAC,CAAC,CAAD,CAApB,EAAyB;AACvB2B,cAAAA,CAAC,CAACC,KAAF,GAAU5B,CAAC,CAAC,CAAD,CAAX;;AAEA2B,cAAAA,CAAC,CAACI,GAAF,CAAMW,IAAN,CAAWH,EAAX;;AAEA;AACD;;AAED,gBAAIvC,CAAC,CAAC,CAAD,CAAL,EAAU2B,CAAC,CAACI,GAAF,CAAMU,GAAN;;AAEVd,YAAAA,CAAC,CAACG,IAAF,CAAOW,GAAP;;AAEA;AAvDJ;;AA0DAF,QAAAA,EAAE,GAAGb,IAAI,CAACpB,IAAL,CAAUG,OAAV,EAAmBkB,CAAnB,CAAL;AACD,OA/DD,CA+DE,OAAOP,CAAP,EAAU;AACVmB,QAAAA,EAAE,GAAG,CAAC,CAAD,EAAInB,CAAJ,CAAL;AACAa,QAAAA,CAAC,GAAG,CAAJ;AACD,OAlED,SAkEU;AACRD,QAAAA,CAAC,GAAGhC,CAAC,GAAG,CAAR;AACD;AACF;;AAED,QAAIuC,EAAE,CAAC,CAAD,CAAF,GAAQ,CAAZ,EAAe,MAAMA,EAAE,CAAC,CAAD,CAAR;AACf,WAAO;AACL1C,MAAAA,KAAK,EAAE0C,EAAE,CAAC,CAAD,CAAF,GAAQA,EAAE,CAAC,CAAD,CAAV,GAAgB,KAAK,CADvB;AAELhB,MAAAA,IAAI,EAAE;AAFD,KAAP;AAID;AACF,CA7GD;;AA+GAxC,MAAM,CAACa,cAAP,CAAsB+C,OAAtB,EAA+B,YAA/B,EAA6C;AAC3C9C,EAAAA,KAAK,EAAE;AADoC,CAA7C;;AAIA,IAAI+C,KAAK,GAAGC,OAAO,CAAC,OAAD,CAAnB;;AAEA,IAAIC,eAAe,GAAGD,OAAO,CAAC,4BAAD,CAA7B;;AAEAF,OAAO,CAACI,aAAR,GAAwBD,eAAe,CAAC,SAAD,CAAvC;;AAEA,IAAIE,QAAQ,GAAGH,OAAO,CAAC,qBAAD,CAAtB;;AAEA,IAAII,cAAc,GAAGJ,OAAO,CAAC,gBAAD,CAA5B;;AAEA,IAAIK,QAAQ,GAAGL,OAAO,CAAC,WAAD,CAAtB;;AAEA,IAAIM,UAAU,GAAGN,OAAO,CAAC,YAAD,CAAxB;;AAEA,IAAIO,gBAAgB,GAAGP,OAAO,CAAC,kBAAD,CAA9B;;AAEA,IAAIQ,YAAY,GAAGR,OAAO,CAAC,cAAD,CAA1B;;AAEA,IAAIS,GAAG,GAAGT,OAAO,CAAC,oBAAD,CAAjB;;AAEA,IAAIU,aAAa,GAAGV,OAAO,CAAC,aAAD,CAA3B;;AAEA,IAAIW,SAAS,GAAGX,OAAO,CAAC,2BAAD,CAAvB;;AAEA,IAAIY,SAAS,GAAGZ,OAAO,CAAC,0BAAD,CAAvB;;AAEA,IAAIa,SAAS,GAAGb,OAAO,CAAC,4BAAD,CAAvB;;AAEA,IAAIc,SAAS,GAAGd,OAAO,CAAC,SAAD,CAAvB;;AAEA,IAAIe,UAAU,GAAGf,OAAO,CAAC,UAAD,CAAxB;;AAEA,IAAIgB,WAAW,GAAGhB,OAAO,CAAC,6BAAD,CAAzB;;AAEA,IAAIiB,WAAW,GAAGjB,OAAO,CAAC,4BAAD,CAAzB;;AAEA,IAAIkB,eAAe,GAAGlB,OAAO,CAAC,iCAAD,CAA7B;;AAEA,IAAImB,gBAAgB,GAAGnB,OAAO,CAAC,kCAAD,CAA9B;;AAEA,IAAIoB,UAAU,GAAGpB,OAAO,CAAC,6BAAD,CAAxB;;AAEA,IAAIqB,mBAAmB,GAAGrB,OAAO,CAAC,qCAAD,CAAjC;;AAEA,IAAIsB,QAAQ,GAAGtB,OAAO,CAAC,QAAD,CAAtB;;AAEA,IAAIuB,MAAM,GAAGvB,OAAO,CAAC,QAAD,CAApB;;AAEA,IAAIwB,oBAAoB,GAAGxB,OAAO,CAAC,sCAAD,CAAlC;;AAEA,IAAIyB,UAAU;AACd;AACA,UAAUC,MAAV,EAAkB;AAChB7F,EAAAA,SAAS,CAAC4F,UAAD,EAAaC,MAAb,CAAT;;AAEA,WAASD,UAAT,CAAoBE,KAApB,EAA2B;AACzB,QAAIC,KAAK,GAAGF,MAAM,CAACjE,IAAP,CAAY,IAAZ,EAAkBkE,KAAlB,KAA4B,IAAxC;;AAEAC,IAAAA,KAAK,CAACC,WAAN,GAAoB,EAApB;AACAD,IAAAA,KAAK,CAACE,SAAN,GAAkB,EAAlB;AACAF,IAAAA,KAAK,CAACG,kBAAN,GAA2B,EAA3B,CALyB,CAKM;;AAE/BH,IAAAA,KAAK,CAACI,SAAN,GAAkBV,QAAQ,CAACW,QAAT,CAAkB,UAAUN,KAAV,EAAiB;AACnD,UAAIA,KAAK,KAAK,KAAK,CAAnB,EAAsB;AACpBA,QAAAA,KAAK,GAAGC,KAAK,CAACD,KAAd;AACD;;AAED,aAAOhE,SAAS,CAACiE,KAAD,EAAQ,KAAK,CAAb,EAAgB,KAAK,CAArB,EAAwB,YAAY;AAClD,YAAIM,KAAJ;;AAEA,YAAIN,KAAK,GAAG,IAAZ;;AAEA,eAAOhD,WAAW,CAAC,IAAD,EAAO,UAAUuD,EAAV,EAAc;AACrC,cAAIR,KAAK,CAACS,MAAV,EAAkB;AAChB,mBAAO,CAAC;AACR;AADO,aAAP;AAGD;;AAED,cAAI,KAAKC,OAAL,IAAgB,KAAKC,KAAL,CAAWF,MAA3B,IAAqC,CAACT,KAAK,CAACY,eAAhD,EAAiE;AAC/D,iBAAKC,QAAL,CAAc;AACZJ,cAAAA,MAAM,EAAEK;AADI,aAAd;AAGD;;AAEDP,UAAAA,KAAK,GAAG,IAAR;;AAEA,cAAI,KAAKQ,OAAT,EAAkB;AAChB,iBAAKA,OAAL,CAAaC,IAAb;AACD;;AAED,eAAKD,OAAL,GAAe,IAAIrB,mBAAmB,CAACuB,OAAxB,CAAgC,YAAY;AACzD,mBAAOjF,SAAS,CAACiE,KAAD,EAAQ,KAAK,CAAb,EAAgB,KAAK,CAArB,EAAwB,YAAY;AAClD,qBAAOhD,WAAW,CAAC,IAAD,EAAO,UAAUuD,EAAV,EAAc;AACrC,wBAAQA,EAAE,CAACpD,KAAX;AACE,uBAAK,CAAL;AACE,wBAAI,CAACmD,KAAL,EAAY,OAAO,CAAC;AACpB;AADmB,sBAEjB,CAFiB,CAAP;AAGZ,2BAAO,CAAC;AACR;AADO,sBAEL,KAAKW,YAAL,CAAkBlB,KAAlB,CAFK,CAAP;;AAIF,uBAAK,CAAL;AACEQ,oBAAAA,EAAE,CAACnD,IAAH;;AAEAkD,oBAAAA,KAAK,GAAG,KAAR;AACA,2BAAO,CAAC;AACR;AADO,sBAEL,CAFK,CAAP;;AAIF,uBAAK,CAAL;AACE,2BAAO,CAAC;AACR;AADO,sBAEL,KAAKW,YAAL,EAFK,CAAP;;AAIF,uBAAK,CAAL;AACEV,oBAAAA,EAAE,CAACnD,IAAH;;AAEAmD,oBAAAA,EAAE,CAACpD,KAAH,GAAW,CAAX;;AAEF,uBAAK,CAAL;AACE,2BAAO,CAAC;AACR;AADO,qBAAP;AA5BJ;AAgCD,eAjCiB,CAAlB;AAkCD,aAnCe,CAAhB;AAoCD,WArCc,CAAf;AAsCA,eAAK2D,OAAL,CAAaI,KAAb;AACA,iBAAO,CAAC;AACR;AADO,WAAP;AAGD,SA7DiB,CAAlB;AA8DD,OAnEe,CAAhB;AAoED,KAzEiB,EAyEf,GAzEe,EAyEV;AACNC,MAAAA,QAAQ,EAAE;AADJ,KAzEU,CAAlB;AA4EAnB,IAAAA,KAAK,CAACoB,YAAN,GAAqB,CAAC,CAAtB;AACApB,IAAAA,KAAK,CAACS,OAAN,GAAgB,KAAhB;AACAT,IAAAA,KAAK,CAACqB,kBAAN,GAA2B,IAA3B;;AAEArB,IAAAA,KAAK,CAACsB,MAAN,GAAe,UAAUC,KAAV,EAAiBC,GAAjB,EAAsB;AACnCxB,MAAAA,KAAK,CAACG,kBAAN,CAAyBoB,KAAzB,IAAkCC,GAAG,GAAGA,GAAG,CAACC,kBAAJ,EAAH,GAA8BD,GAAnE;AACD,KAFD;;AAIAxB,IAAAA,KAAK,CAAC0B,QAAN,GAAiB,YAAY;AAC3B1B,MAAAA,KAAK,CAACD,KAAN,CAAY4B,gBAAZ;AACD,KAFD;;AAIA3B,IAAAA,KAAK,CAAC4B,OAAN,GAAgB,YAAY;AAC1B5B,MAAAA,KAAK,CAACD,KAAN,CAAY8B,aAAZ;AACD,KAFD;;AAIA7B,IAAAA,KAAK,CAAC8B,OAAN,GAAgB,YAAY;AAC1B9B,MAAAA,KAAK,CAACD,KAAN,CAAYgC,aAAZ;AACD,KAFD;;AAIA/B,IAAAA,KAAK,CAACgC,SAAN,GAAkB,UAAUT,KAAV,EAAiB;AACjCvB,MAAAA,KAAK,CAACD,KAAN,CAAYkC,cAAZ,CAA2BV,KAA3B;AACD,KAFD;;AAIAvB,IAAAA,KAAK,CAACkC,gBAAN,GAAyB,YAAY;AACnClC,MAAAA,KAAK,CAACD,KAAN,CAAYoC,UAAZ;;AAEAnC,MAAAA,KAAK,CAACD,KAAN,CAAYqC,YAAZ;AACD,KAJD;;AAMApC,IAAAA,KAAK,CAACqC,kBAAN,GAA2B,YAAY;AACrCrC,MAAAA,KAAK,CAACD,KAAN,CAAYuC,YAAZ;;AAEAtC,MAAAA,KAAK,CAACD,KAAN,CAAYwC,cAAZ;AACD,KAJD;;AAMAvC,IAAAA,KAAK,CAACwC,aAAN,GAAsB,YAAY;AAChCxC,MAAAA,KAAK,CAACD,KAAN,CAAY0C,UAAZ,CAAuBzC,KAAK,CAACD,KAAN,CAAY2C,QAAnC,EAA6C1C,KAAK,CAACD,KAAN,CAAY4C,QAAZ,CAAqB,qBAArB,CAA7C;AACD,KAFD;;AAIA,QAAI5C,KAAK,CAACS,MAAV,EAAkB;AAChB,UAAIoC,gBAAgB,GAAG1D,SAAS,CAAC2D,cAAV,CAAyB9C,KAAK,CAACS,MAA/B,CAAvB;;AAEA,UAAIoC,gBAAgB,IAAIA,gBAAgB,CAAChH,MAAjB,GAA0B,CAAlD,EAAqD;AACnD,cAAM,IAAIgE,oBAAoB,CAACkD,kBAAzB,CAA4CF,gBAA5C,CAAN;AACD;AACF;;AAED5C,IAAAA,KAAK,CAACU,KAAN,GAAc;AACZF,MAAAA,MAAM,EAAET,KAAK,CAACS;AADF,KAAd;AAGAuC,IAAAA,MAAM,CAACrI,CAAP,GAAWsF,KAAX;;AAEA,QAAI,OAAOA,KAAK,CAACD,KAAN,CAAYiD,MAAnB,KAA8B,UAAlC,EAA8C;AAC5ChD,MAAAA,KAAK,CAACD,KAAN,CAAYiD,MAAZ,CAAmBhD,KAAnB;AACD;;AAEDV,IAAAA,eAAe,CAAC2D,cAAhB,CAA+BlD,KAAK,CAACmD,gBAArC;;AAEAlD,IAAAA,KAAK,CAACI,SAAN;;AAEAd,IAAAA,eAAe,CAAC6D,uBAAhB,CAAwCpD,KAAK,CAACqD,oBAA9C;AACA,WAAOpD,KAAP;AACD;;AAEDH,EAAAA,UAAU,CAAC/E,SAAX,CAAqBuI,yBAArB,GAAiD,YAAY;AAC3D;AACA,SAAKtD,KAAL,CAAWuD,SAAX,CAAqB/D,gBAAgB,CAACgE,cAAjB,CAAgC,KAAKxD,KAArC,CAArB,EAAkE,KAAKA,KAAL,CAAW2C,QAA7E;AACA,SAAK3C,KAAL,CAAWyD,eAAX,CAA2B,KAAKzD,KAAL,CAAW0D,YAAtC;AACA,SAAK1D,KAAL,CAAW2D,aAAX,CAAyB,KAAK3D,KAAL,CAAW4D,OAApC,EAA6C,KAAK5D,KAAL,CAAW2C,QAAxD;AACD,GALD;;AAOA7C,EAAAA,UAAU,CAAC/E,SAAX,CAAqB8I,iBAArB,GAAyC,YAAY;AACnD,QAAI,KAAKxC,YAAL,GAAoB,CAAC,CAAzB,EAA4B;AAC1B,WAAKR,QAAL,CAAc;AACZiD,QAAAA,oBAAoB,EAAE,KAAKzC;AADf,OAAd;AAGD;;AAED,SAAKX,OAAL,GAAe,IAAf;AACD,GARD;;AAUAZ,EAAAA,UAAU,CAAC/E,SAAX,CAAqBgJ,gCAArB,GAAwD,UAAUC,SAAV,EAAqB;AAC3E,QAAI/D,KAAK,GAAG,IAAZ;;AAEA,QAAI,KAAKD,KAAL,CAAWmD,gBAAX,KAAgCa,SAAS,CAACb,gBAA9C,EAAgE;AAC9D5D,MAAAA,eAAe,CAAC2D,cAAhB,CAA+Bc,SAAS,CAACb,gBAAzC;AACD;;AAED,QAAIa,SAAS,CAACJ,OAAV,KAAsB,KAAK5D,KAAL,CAAW4D,OAAjC,IAA4CI,SAAS,CAACrB,QAAV,KAAuB,KAAK3C,KAAL,CAAW2C,QAA9E,IAA0FqB,SAAS,CAACC,aAAV,KAA4B,KAAKjE,KAAL,CAAWiE,aAAjI,IAAkJD,SAAS,CAACE,cAAV,KAA6B,KAAKlE,KAAL,CAAWkE,cAA1L,IAA4MF,SAAS,CAACG,eAAV,KAA8B,KAAKnE,KAAL,CAAWmE,eAAzP,EAA0Q;AACxQ,WAAK9D,SAAL,CAAe2D,SAAf;AACD;;AAED,QAAI,KAAKhE,KAAL,CAAWoE,iBAAX,IAAgC,CAACJ,SAAS,CAACI,iBAA/C,EAAkE;AAChEC,MAAAA,UAAU,CAAC,YAAY;AACrBpE,QAAAA,KAAK,CAACI,SAAN,CAAgB2D,SAAhB;AACD,OAFS,CAAV;AAGD;;AAED,QAAI,KAAKhE,KAAL,CAAW2C,QAAX,KAAwBqB,SAAS,CAACrB,QAAlC,IAA8C,KAAK3C,KAAL,CAAWsE,UAAX,KAA0BN,SAAS,CAACM,UAAlF,IAAgGN,SAAS,CAACC,aAAV,KAA4B,KAAKjE,KAAL,CAAWiE,aAA3I,EAA0J;AACxJ,WAAKjE,KAAL,CAAWuD,SAAX,CAAqB/D,gBAAgB,CAACgE,cAAjB,CAAgCQ,SAAhC,CAArB,EAAiEA,SAAS,CAACrB,QAA3E;AACD;;AAED,QAAI,KAAK3C,KAAL,CAAWqD,oBAAX,KAAoCW,SAAS,CAACX,oBAAlD,EAAwE;AACtE9D,MAAAA,eAAe,CAAC6D,uBAAhB,CAAwCY,SAAS,CAACX,oBAAlD;AACD;;AAED,QAAIW,SAAS,CAACJ,OAAV,KAAsB,KAAK5D,KAAL,CAAW4D,OAArC,EAA8C;AAC5C,WAAK5D,KAAL,CAAW2D,aAAX,CAAyBK,SAAS,CAACJ,OAAnC,EAA4CI,SAAS,CAACrB,QAAtD;AACD;;AAED,QAAIqB,SAAS,CAACN,YAAV,KAA2B,KAAK1D,KAAL,CAAW0D,YAA1C,EAAwD;AACtD,WAAK1D,KAAL,CAAWyD,eAAX,CAA2BO,SAAS,CAACN,YAArC;AACD;;AAED,QAAIM,SAAS,CAACvD,MAAV,KAAqB,KAAKT,KAAL,CAAWS,MAApC,EAA4C;AAC1C,UAAIoC,gBAAgB,GAAG1D,SAAS,CAAC2D,cAAV,CAAyBkB,SAAS,CAACvD,MAAnC,CAAvB;;AAEA,UAAIoC,gBAAgB,IAAIA,gBAAgB,CAAChH,MAAjB,GAA0B,CAAlD,EAAqD;AACnD,cAAM,IAAIgE,oBAAoB,CAACkD,kBAAzB,CAA4CF,gBAA5C,CAAN;AACD;;AAED,WAAKhC,QAAL,CAAc;AACZJ,QAAAA,MAAM,EAAEuD,SAAS,CAACvD;AADN,OAAd;AAGD;AACF,GA5CD;;AA8CAX,EAAAA,UAAU,CAAC/E,SAAX,CAAqBmG,YAArB,GAAoC,UAAUqD,UAAV,EAAsB;AACxD,WAAOvI,SAAS,CAAC,IAAD,EAAO,KAAK,CAAZ,EAAe,KAAK,CAApB,EAAuB,YAAY;AACjD,UAAIgE,KAAJ,EAAW2C,QAAX,EAAqB6B,aAArB,EAAoCC,aAApC,EAAmDC,MAAnD,EAA2DjE,MAA3D,EAAmEkE,GAAnE;;AAEA,UAAI1E,KAAK,GAAG,IAAZ;;AAEA,aAAOhD,WAAW,CAAC,IAAD,EAAO,UAAUuD,EAAV,EAAc;AACrC,gBAAQA,EAAE,CAACpD,KAAX;AACE,eAAK,CAAL;AACE4C,YAAAA,KAAK,GAAGuE,UAAU,IAAI,KAAKvE,KAA3B;AACA2C,YAAAA,QAAQ,GAAG3C,KAAK,CAACmE,eAAN,IAAyBnE,KAAK,CAAC2C,QAA1C;AACA6B,YAAAA,aAAa,GAAG,KAAK7D,KAAL,CAAWF,MAA3B;AACAgE,YAAAA,aAAa,GAAGzE,KAAK,CAAC4C,QAAN,CAAe,uBAAf,CAAhB;AACApC,YAAAA,EAAE,CAACpD,KAAH,GAAW,CAAX;;AAEF,eAAK,CAAL;AACEoD,YAAAA,EAAE,CAAClD,IAAH,CAAQY,IAAR,CAAa,CAAC,CAAD,EAAI,CAAJ,GAAQ,CAAR,CAAb;;AAEAwG,YAAAA,MAAM,GAAG;AACP/B,cAAAA,QAAQ,EAAEA,QADH;AAEPiB,cAAAA,OAAO,EAAE5D,KAAK,CAACkE,cAAN,IAAwBlE,KAAK,CAACkE,cAAN,CAAqBrI,MAArB,GAA8B,CAAtD,GAA0D+I,IAAI,CAACC,SAAL,CAAevJ,QAAQ,CAACA,QAAQ,CAAC,EAAD,EAAKmJ,aAAL,CAAT,EAA8BG,IAAI,CAACE,KAAL,CAAW9E,KAAK,CAACkE,cAAjB,CAA9B,CAAvB,CAA1D,GAAoJU,IAAI,CAACC,SAAL,CAAevJ,QAAQ,CAACA,QAAQ,CAAC,EAAD,EAAKmJ,aAAL,CAAT,EAA8BzE,KAAK,CAAC4D,OAApC,CAAvB,CAFtJ;AAGPmB,cAAAA,WAAW,EAAE/E,KAAK,CAAC4C,QAAN,CAAe,qBAAf,CAHN;AAIPoC,cAAAA,gBAAgB,EAAE,CAAC,KAAK1D,kBAAN,IAA4BtB,KAAK,CAAC4C,QAAN,CAAe,0BAAf;AAJvC,aAAT;AAMA,mBAAO,CAAC;AACR;AADO,cAELrD,eAAe,CAAC0F,aAAhB,CAA8BC,KAA9B,CAAoCR,MAApC,CAFK,CAAP;;AAIF,eAAK,CAAL;AACEjE,YAAAA,MAAM,GAAGD,EAAE,CAACnD,IAAH,EAAT;AACAkC,YAAAA,eAAe,CAAC0F,aAAhB,CAA8BE,SAA9B,CAAwCT,MAAxC,EAAgD,UAAUU,SAAV,EAAqB;AACnE,kBAAIV,MAAM,CAAC/B,QAAP,KAAoB1C,KAAK,CAACD,KAAN,CAAY2C,QAAhC,IAA4C+B,MAAM,CAAC/B,QAAP,KAAoB1C,KAAK,CAACD,KAAN,CAAYmE,eAAhF,EAAiG;AAC/FlE,gBAAAA,KAAK,CAACoF,YAAN,CAAmBb,aAAnB,EAAkCY,SAAlC,EAA6CpF,KAA7C;AACD;AACF,aAJD;;AAMA,gBAAIS,MAAJ,EAAY;AACV,mBAAK4E,YAAL,CAAkBb,aAAlB,EAAiC/D,MAAM,CAACA,MAAxC,EAAgDT,KAAhD;;AAEA,kBAAI,KAAKsB,kBAAT,EAA6B;AAC3B,qBAAKtB,KAAL,CAAWsF,qBAAX,CAAiCZ,MAAM,CAAC/B,QAAxC,EAAkDlC,MAAM,CAAC8E,gBAAzD,EAA2EvF,KAAK,CAACY,eAAjF;AACA,qBAAKU,kBAAL,GAA0B,KAA1B;AACD;;AAED,mBAAKP,OAAL,CAAaC,IAAb;AACD;;AAED,mBAAO,CAAC;AACR;AADO,cAEL,CAFK,CAAP;;AAIF,eAAK,CAAL;AACE2D,YAAAA,GAAG,GAAGnE,EAAE,CAACnD,IAAH,EAAN,CADF,CACmB;;AAEjBmI,YAAAA,OAAO,CAACC,KAAR,CAAcd,GAAd;AACA,iBAAK3E,KAAL,CAAW0F,mBAAX,CAA+B/C,QAA/B,EAAyCgC,GAAG,CAACgB,OAA7C;AACA,mBAAO,CAAC;AACR;AADO,cAEL,CAFK,CAAP;;AAIF,eAAK,CAAL;AACE,mBAAO,CAAC;AACR;AADO,aAAP;AAtDJ;AA0DD,OA3DiB,CAAlB;AA4DD,KAjEe,CAAhB;AAkED,GAnED;;AAqEA7F,EAAAA,UAAU,CAAC/E,SAAX,CAAqB6K,MAArB,GAA8B,YAAY;AACxC,QAAIC,OAAO,GAAG/G,GAAG,CAAC+G,OAAlB;AACAC,IAAAA,MAAM,CAACD,OAAP,GAAiBA,OAAjB;AACA,WAAO,aAAazH,KAAK,CAAC2H,aAAN,CAAoBC,mBAApB,EAAyC;AAC3DC,MAAAA,SAAS,EAAE;AADgD,KAAzC,EAEjB,aAAa7H,KAAK,CAAC2H,aAAN,CAAoBvH,QAAQ,CAAC,SAAD,CAA5B,EAAyC;AACvD0H,MAAAA,YAAY,EAAE,KAAKzD,aADoC;AAEvD0D,MAAAA,KAAK,EAAE,KAAKnG,KAAL,CAAWmG;AAFqC,KAAzC,CAFI,EAKhB,aAAa/H,KAAK,CAAC2H,aAAN,CAAoBK,kBAApB,EAAwC,IAAxC,EAA8C,aAAahI,KAAK,CAAC2H,aAAN,CAAoBM,eAApB,EAAqC;AAC/GJ,MAAAA,SAAS,EAAE;AADoG,KAArC,EAEzE,KAAKjG,KAAL,CAAWsG,WAAX,GAAyB,aAAalI,KAAK,CAAC2H,aAAN,CAAoBnH,gBAAgB,CAAC2H,mBAArC,EAA0D;AACjGC,MAAAA,MAAM,EAAE,KAAKrE,gBADoF;AAEjGsE,MAAAA,MAAM,EAAE,KAAKzG,KAAL,CAAW0G,YAF8E;AAGjGC,MAAAA,QAAQ,EAAE,IAHuF;AAIjGC,MAAAA,QAAQ,EAAE,CAAC,KAAK5G,KAAL,CAAW6G;AAJ2E,KAA1D,CAAtC,GAKE,KAAK7G,KAAL,CAAW8G,aAAX,GAA2B,aAAa1I,KAAK,CAAC2H,aAAN,CAAoBnH,gBAAgB,CAACmI,wBAArC,EAA+D;AAC1GP,MAAAA,MAAM,EAAE,KAAKlE;AAD6F,KAA/D,CAAxC,GAEA,KAAKtC,KAAL,CAAWgH,MAAX,IAAqB,KAAKhH,KAAL,CAAWiH,IAAhC,GAAuC,aAAa7I,KAAK,CAAC2H,aAAN,CAAoBlH,YAAY,CAAC,SAAD,CAAhC,EAA6C,IAA7C,CAApD,GAAyG,aAAaT,KAAK,CAAC2H,aAAN,CAAoBzH,eAAe,CAAC,SAAD,CAAnC,EAAgD;AACzK4I,MAAAA,YAAY,EAAE,KAAKlH,KAAL,CAAWkH,YADgJ;AAEzKC,MAAAA,aAAa,EAAE,KAAKnH,KAAL,CAAWmH,aAF+I;AAGzK1G,MAAAA,MAAM,EAAE,KAAKE,KAAL,CAAWF;AAHsJ,KAAhD,CAT/C,CAA3D,CALG,EAkBd,aAAarC,KAAK,CAAC2H,aAAN,CAAoBpH,UAAU,CAAC,SAAD,CAA9B,EAA2C,IAA3C,CAlBC,EAkBiD,KAAKqB,KAAL,CAAWoH,WAAX,IAA0B,KAAKC,kBAAL,EAlB3E,CAApB;AAmBD,GAtBD;;AAwBAvH,EAAAA,UAAU,CAAC/E,SAAX,CAAqBsM,kBAArB,GAA0C,YAAY;AACpD,WAAO,aAAajJ,KAAK,CAAC2H,aAAN,CAAoBtH,cAAc,CAAC,SAAD,CAAlC,EAA+C,IAA/C,CAApB;AACD,GAFD;;AAIAqB,EAAAA,UAAU,CAAC/E,SAAX,CAAqBsK,YAArB,GAAoC,UAAUb,aAAV,EAAyBY,SAAzB,EAAoCpF,KAApC,EAA2C;AAC7E;AACA,QAAIwE,aAAa,KAAKY,SAAtB,EAAiC;AAC/B;AACA,UAAIkC,gBAAgB,GAAG9C,aAAa,GAAG5E,MAAM,CAAC2H,iBAAP,CAAyB/C,aAAzB,CAAH,GAA6C,IAAjF;AACA,UAAIgD,YAAY,GAAG5H,MAAM,CAAC2H,iBAAP,CAAyBnC,SAAzB,CAAnB;;AAEA,UAAIoC,YAAY,KAAKF,gBAAjB,IAAqC,CAACtH,KAAK,CAACY,eAAhD,EAAiE;AAC/D,aAAKC,QAAL,CAAc;AACZJ,UAAAA,MAAM,EAAE2E;AADI,SAAd;AAGD;AACF;AACF,GAbD;;AAeA7K,EAAAA,MAAM,CAACa,cAAP,CAAsB0E,UAAU,CAAC/E,SAAjC,EAA4C,eAA5C,EAA6D;AAC3D0M,IAAAA,GAAG,EAAE,SAASA,GAAT,GAAe;AAClB,aAAO,KAAKzH,KAAL,CAAW2C,QAAX,CAAoB+E,KAApB,CAA0B,qBAA1B,EAAiD,CAAjD,CAAP;AACD,KAH0D;AAI3DC,IAAAA,UAAU,EAAE,IAJ+C;AAK3DC,IAAAA,YAAY,EAAE;AAL6C,GAA7D;AAOA9H,EAAAA,UAAU,CAAC+H,YAAX,GAA0B;AACxBX,IAAAA,YAAY,EAAE;AADU,GAA1B;AAGA,SAAOpH,UAAP;AACD,CAjVD,CAiVE1B,KAAK,CAAC0J,aAjVR,CAFA;;AAqVA3J,OAAO,CAAC2B,UAAR,GAAqBA,UAArB;AACA,IAAIiI,eAAe,GAAG3I,UAAU,CAAC4I,wBAAX,CAAoC;AACxD1B,EAAAA,WAAW,EAAEjH,WAAW,CAAC4I,cAD+B;AAExDnB,EAAAA,aAAa,EAAEzH,WAAW,CAAC6I,gBAF6B;AAGxDlB,EAAAA,MAAM,EAAE3H,WAAW,CAAC8I,SAHoC;AAIxDf,EAAAA,WAAW,EAAE9H,WAAW,CAAC8I,cAJ+B;AAKxDnB,EAAAA,IAAI,EAAE5H,WAAW,CAACgJ,OALsC;AAMxDnE,EAAAA,cAAc,EAAE7E,WAAW,CAACiJ,UAN4B;AAOxD1F,EAAAA,QAAQ,EAAEnD,UAAU,CAAC8I,WAPmC;AAQxDC,EAAAA,cAAc,EAAE/I,UAAU,CAACgJ,iBAR6B;AASxDrE,EAAAA,iBAAiB,EAAE/E,WAAW,CAACqJ,oBATyB;AAUxD9H,EAAAA,eAAe,EAAEvB,WAAW,CAACsJ,kBAV2B;AAWxDxE,EAAAA,eAAe,EAAE9E,WAAW,CAACuJ;AAX2B,CAApC,CAAtB;AAaAzK,OAAO,CAAC,SAAD,CAAP,GAAqBY,aAAa,CAAC8J,OAAd,CAAsBd,eAAtB,EAAuC;AAC1D7F,EAAAA,cAAc,EAAElD,SAAS,CAACkD,cADgC;AAE1DJ,EAAAA,aAAa,EAAE9C,SAAS,CAAC8C,aAFiC;AAG1DE,EAAAA,aAAa,EAAEhD,SAAS,CAACgD,aAHiC;AAI1DU,EAAAA,UAAU,EAAE1D,SAAS,CAAC0D,UAJoC;AAK1Dd,EAAAA,gBAAgB,EAAE5C,SAAS,CAAC4C,gBAL8B;AAM1D2B,EAAAA,SAAS,EAAErE,SAAS,CAACqE,SANqC;AAO1DhB,EAAAA,YAAY,EAAEvD,SAAS,CAACuD,YAPkC;AAQ1DH,EAAAA,UAAU,EAAEpD,SAAS,CAACoD,UARoC;AAS1D0G,EAAAA,mBAAmB,EAAE9J,SAAS,CAAC8J,mBAT2B;AAU1DnF,EAAAA,aAAa,EAAE3E,SAAS,CAAC2E,aAViC;AAW1DF,EAAAA,eAAe,EAAExE,SAAS,CAACwE,eAX+B;AAY1DiC,EAAAA,mBAAmB,EAAE1G,SAAS,CAAC0G,mBAZ2B;AAa1DJ,EAAAA,qBAAqB,EAAEtG,SAAS,CAACsG;AAbyB,CAAvC,EAclBxF,UAdkB,CAArB;AAeA,IAAIkG,mBAAmB,GAAGtH,QAAQ,CAACqK,MAAT,CAAgBC,GAAhB,CAAoBC,gBAAgB,KAAKA,gBAAgB,GAAGhO,oBAAoB,CAAC,CAAC,kcAAD,CAAD,EAAuc,CAAC,kcAAD,CAAvc,CAA5C,CAApC,CAA1B;AACA,IAAImL,kBAAkB,GAAG1H,QAAQ,CAACqK,MAAT,CAAgBC,GAAhB,CAAoBE,gBAAgB,KAAKA,gBAAgB,GAAGjO,oBAAoB,CAAC,CAAC,+EAAD,CAAD,EAAoF,CAAC,+EAAD,CAApF,CAA5C,CAApC,CAAzB;AACA,IAAIoL,eAAe,GAAG3H,QAAQ,CAACqK,MAAT,CAAgBC,GAAhB,CAAoBG,gBAAgB,KAAKA,gBAAgB,GAAGlO,oBAAoB,CAAC,CAAC,qJAAD,CAAD,EAA0J,CAAC,qJAAD,CAA1J,CAA5C,CAApC,CAAtB;AACA,IAAIgO,gBAAJ,EAAsBC,gBAAtB,EAAwCC,gBAAxC","sourcesContent":["\"use strict\";\n\nvar __extends = void 0 && (void 0).__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar __makeTemplateObject = void 0 && (void 0).__makeTemplateObject || function (cooked, raw) {\n  if (Object.defineProperty) {\n    Object.defineProperty(cooked, \"raw\", {\n      value: raw\n    });\n  } else {\n    cooked.raw = raw;\n  }\n\n  return cooked;\n};\n\nvar __assign = void 0 && (void 0).__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __awaiter = void 0 && (void 0).__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\n\nvar __generator = void 0 && (void 0).__generator || function (thisArg, body) {\n  var _ = {\n    label: 0,\n    sent: function sent() {\n      if (t[0] & 1) throw t[1];\n      return t[1];\n    },\n    trys: [],\n    ops: []\n  },\n      f,\n      y,\n      t,\n      g;\n  return g = {\n    next: verb(0),\n    \"throw\": verb(1),\n    \"return\": verb(2)\n  }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function () {\n    return this;\n  }), g;\n\n  function verb(n) {\n    return function (v) {\n      return step([n, v]);\n    };\n  }\n\n  function step(op) {\n    if (f) throw new TypeError(\"Generator is already executing.\");\n\n    while (_) {\n      try {\n        if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n        if (y = 0, t) op = [op[0] & 2, t.value];\n\n        switch (op[0]) {\n          case 0:\n          case 1:\n            t = op;\n            break;\n\n          case 4:\n            _.label++;\n            return {\n              value: op[1],\n              done: false\n            };\n\n          case 5:\n            _.label++;\n            y = op[1];\n            op = [0];\n            continue;\n\n          case 7:\n            op = _.ops.pop();\n\n            _.trys.pop();\n\n            continue;\n\n          default:\n            if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {\n              _ = 0;\n              continue;\n            }\n\n            if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {\n              _.label = op[1];\n              break;\n            }\n\n            if (op[0] === 6 && _.label < t[1]) {\n              _.label = t[1];\n              t = op;\n              break;\n            }\n\n            if (t && _.label < t[2]) {\n              _.label = t[2];\n\n              _.ops.push(op);\n\n              break;\n            }\n\n            if (t[2]) _.ops.pop();\n\n            _.trys.pop();\n\n            continue;\n        }\n\n        op = body.call(thisArg, _);\n      } catch (e) {\n        op = [6, e];\n        y = 0;\n      } finally {\n        f = t = 0;\n      }\n    }\n\n    if (op[0] & 5) throw op[1];\n    return {\n      value: op[0] ? op[1] : void 0,\n      done: true\n    };\n  }\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar React = require(\"react\");\n\nvar GraphQLEditor_1 = require(\"./Playground/GraphQLEditor\");\n\nexports.GraphQLEditor = GraphQLEditor_1[\"default\"];\n\nvar TabBar_1 = require(\"./Playground/TabBar\");\n\nvar HistoryPopup_1 = require(\"./HistoryPopup\");\n\nvar styled_1 = require(\"../styled\");\n\nvar Settings_1 = require(\"./Settings\");\n\nvar SettingsEditor_1 = require(\"./SettingsEditor\");\n\nvar FileEditor_1 = require(\"./FileEditor\");\n\nvar app = require(\"../../package.json\");\n\nvar react_redux_1 = require(\"react-redux\");\n\nvar actions_1 = require(\"../state/sessions/actions\");\n\nvar actions_2 = require(\"../state/general/actions\");\n\nvar actions_3 = require(\"../state/workspace/actions\");\n\nvar graphql_1 = require(\"graphql\");\n\nvar reselect_1 = require(\"reselect\");\n\nvar selectors_1 = require(\"../state/sessions/selectors\");\n\nvar selectors_2 = require(\"../state/general/selectors\");\n\nvar fetchingSagas_1 = require(\"../state/sessions/fetchingSagas\");\n\nvar getWorkspaceId_1 = require(\"./Playground/util/getWorkspaceId\");\n\nvar reducers_1 = require(\"../state/workspace/reducers\");\n\nvar fibonacci_backoff_1 = require(\"./Playground/util/fibonacci-backoff\");\n\nvar lodash_1 = require(\"lodash\");\n\nvar util_1 = require(\"./util\");\n\nvar InvalidSchemaError_1 = require(\"./Playground/util/InvalidSchemaError\");\n\nvar Playground =\n/** @class */\nfunction (_super) {\n  __extends(Playground, _super);\n\n  function Playground(props) {\n    var _this = _super.call(this, props) || this;\n\n    _this.apolloLinks = {};\n    _this.observers = {};\n    _this.graphiqlComponents = []; // debounce as we call this on each http header or endpoint edit\n\n    _this.getSchema = lodash_1.debounce(function (props) {\n      if (props === void 0) {\n        props = _this.props;\n      }\n\n      return __awaiter(_this, void 0, void 0, function () {\n        var first;\n\n        var _this = this;\n\n        return __generator(this, function (_a) {\n          if (props.schema) {\n            return [2\n            /*return*/\n            ];\n          }\n\n          if (this.mounted && this.state.schema && !props.isPollingSchema) {\n            this.setState({\n              schema: undefined\n            });\n          }\n\n          first = true;\n\n          if (this.backoff) {\n            this.backoff.stop();\n          }\n\n          this.backoff = new fibonacci_backoff_1.Backoff(function () {\n            return __awaiter(_this, void 0, void 0, function () {\n              return __generator(this, function (_a) {\n                switch (_a.label) {\n                  case 0:\n                    if (!first) return [3\n                    /*break*/\n                    , 2];\n                    return [4\n                    /*yield*/\n                    , this.schemaGetter(props)];\n\n                  case 1:\n                    _a.sent();\n\n                    first = false;\n                    return [3\n                    /*break*/\n                    , 4];\n\n                  case 2:\n                    return [4\n                    /*yield*/\n                    , this.schemaGetter()];\n\n                  case 3:\n                    _a.sent();\n\n                    _a.label = 4;\n\n                  case 4:\n                    return [2\n                    /*return*/\n                    ];\n                }\n              });\n            });\n          });\n          this.backoff.start();\n          return [2\n          /*return*/\n          ];\n        });\n      });\n    }, 600, {\n      trailing: true\n    });\n    _this.initialIndex = -1;\n    _this.mounted = false;\n    _this.initialSchemaFetch = true;\n\n    _this.setRef = function (index, ref) {\n      _this.graphiqlComponents[index] = ref ? ref.getWrappedInstance() : ref;\n    };\n\n    _this.closeTab = function () {\n      _this.props.closeSelectedTab();\n    };\n\n    _this.nextTab = function () {\n      _this.props.selectNextTab();\n    };\n\n    _this.prevTab = function () {\n      _this.props.selectPrevTab();\n    };\n\n    _this.switchTab = function (index) {\n      _this.props.selectTabIndex(index);\n    };\n\n    _this.handleSaveConfig = function () {\n      _this.props.saveConfig();\n\n      _this.props.onSaveConfig();\n    };\n\n    _this.handleSaveSettings = function () {\n      _this.props.saveSettings();\n\n      _this.props.onSaveSettings();\n    };\n\n    _this.createSession = function () {\n      _this.props.newSession(_this.props.endpoint, _this.props.settings['editor.reuseHeaders']);\n    };\n\n    if (props.schema) {\n      var validationErrors = graphql_1.validateSchema(props.schema);\n\n      if (validationErrors && validationErrors.length > 0) {\n        throw new InvalidSchemaError_1.InvalidSchemaError(validationErrors);\n      }\n    }\n\n    _this.state = {\n      schema: props.schema\n    };\n    global.p = _this;\n\n    if (typeof _this.props.getRef === 'function') {\n      _this.props.getRef(_this);\n    }\n\n    fetchingSagas_1.setLinkCreator(props.createApolloLink);\n\n    _this.getSchema();\n\n    fetchingSagas_1.setSubscriptionEndpoint(props.subscriptionEndpoint);\n    return _this;\n  }\n\n  Playground.prototype.UNSAFE_componentWillMount = function () {\n    // init redux\n    this.props.initState(getWorkspaceId_1.getWorkspaceId(this.props), this.props.endpoint);\n    this.props.setConfigString(this.props.configString);\n    this.props.injectHeaders(this.props.headers, this.props.endpoint);\n  };\n\n  Playground.prototype.componentDidMount = function () {\n    if (this.initialIndex > -1) {\n      this.setState({\n        selectedSessionIndex: this.initialIndex\n      });\n    }\n\n    this.mounted = true;\n  };\n\n  Playground.prototype.UNSAFE_componentWillReceiveProps = function (nextProps) {\n    var _this = this;\n\n    if (this.props.createApolloLink !== nextProps.createApolloLink) {\n      fetchingSagas_1.setLinkCreator(nextProps.createApolloLink);\n    }\n\n    if (nextProps.headers !== this.props.headers || nextProps.endpoint !== this.props.endpoint || nextProps.workspaceName !== this.props.workspaceName || nextProps.sessionHeaders !== this.props.sessionHeaders || nextProps.sessionEndpoint !== this.props.sessionEndpoint) {\n      this.getSchema(nextProps);\n    }\n\n    if (this.props.isReloadingSchema && !nextProps.isReloadingSchema) {\n      setTimeout(function () {\n        _this.getSchema(nextProps);\n      });\n    }\n\n    if (this.props.endpoint !== nextProps.endpoint || this.props.configPath !== nextProps.configPath || nextProps.workspaceName !== this.props.workspaceName) {\n      this.props.initState(getWorkspaceId_1.getWorkspaceId(nextProps), nextProps.endpoint);\n    }\n\n    if (this.props.subscriptionEndpoint !== nextProps.subscriptionEndpoint) {\n      fetchingSagas_1.setSubscriptionEndpoint(nextProps.subscriptionEndpoint);\n    }\n\n    if (nextProps.headers !== this.props.headers) {\n      this.props.injectHeaders(nextProps.headers, nextProps.endpoint);\n    }\n\n    if (nextProps.configString !== this.props.configString) {\n      this.props.setConfigString(nextProps.configString);\n    }\n\n    if (nextProps.schema !== this.props.schema) {\n      var validationErrors = graphql_1.validateSchema(nextProps.schema);\n\n      if (validationErrors && validationErrors.length > 0) {\n        throw new InvalidSchemaError_1.InvalidSchemaError(validationErrors);\n      }\n\n      this.setState({\n        schema: nextProps.schema\n      });\n    }\n  };\n\n  Playground.prototype.schemaGetter = function (propsInput) {\n    return __awaiter(this, void 0, void 0, function () {\n      var props, endpoint, currentSchema, globalHeaders, data_1, schema, e_1;\n\n      var _this = this;\n\n      return __generator(this, function (_a) {\n        switch (_a.label) {\n          case 0:\n            props = propsInput || this.props;\n            endpoint = props.sessionEndpoint || props.endpoint;\n            currentSchema = this.state.schema;\n            globalHeaders = props.settings['request.globalHeaders'];\n            _a.label = 1;\n\n          case 1:\n            _a.trys.push([1, 3,, 4]);\n\n            data_1 = {\n              endpoint: endpoint,\n              headers: props.sessionHeaders && props.sessionHeaders.length > 0 ? JSON.stringify(__assign(__assign({}, globalHeaders), JSON.parse(props.sessionHeaders))) : JSON.stringify(__assign(__assign({}, globalHeaders), props.headers)),\n              credentials: props.settings['request.credentials'],\n              useTracingHeader: !this.initialSchemaFetch && props.settings['tracing.tracingSupported']\n            };\n            return [4\n            /*yield*/\n            , fetchingSagas_1.schemaFetcher.fetch(data_1)];\n\n          case 2:\n            schema = _a.sent();\n            fetchingSagas_1.schemaFetcher.subscribe(data_1, function (newSchema) {\n              if (data_1.endpoint === _this.props.endpoint || data_1.endpoint === _this.props.sessionEndpoint) {\n                _this.updateSchema(currentSchema, newSchema, props);\n              }\n            });\n\n            if (schema) {\n              this.updateSchema(currentSchema, schema.schema, props);\n\n              if (this.initialSchemaFetch) {\n                this.props.schemaFetchingSuccess(data_1.endpoint, schema.tracingSupported, props.isPollingSchema);\n                this.initialSchemaFetch = false;\n              }\n\n              this.backoff.stop();\n            }\n\n            return [3\n            /*break*/\n            , 4];\n\n          case 3:\n            e_1 = _a.sent(); // tslint:disable-next-line\n\n            console.error(e_1);\n            this.props.schemaFetchingError(endpoint, e_1.message);\n            return [3\n            /*break*/\n            , 4];\n\n          case 4:\n            return [2\n            /*return*/\n            ];\n        }\n      });\n    });\n  };\n\n  Playground.prototype.render = function () {\n    var version = app.version;\n    window.version = version;\n    return /*#__PURE__*/React.createElement(PlaygroundContainer, {\n      className: \"playground\"\n    }, /*#__PURE__*/React.createElement(TabBar_1[\"default\"], {\n      onNewSession: this.createSession,\n      isApp: this.props.isApp\n    }), /*#__PURE__*/React.createElement(GraphiqlsContainer, null, /*#__PURE__*/React.createElement(GraphiqlWrapper, {\n      className: \"graphiql-wrapper active\"\n    }, this.props.isConfigTab ? /*#__PURE__*/React.createElement(SettingsEditor_1.GraphQLConfigEditor, {\n      onSave: this.handleSaveConfig,\n      isYaml: this.props.configIsYaml,\n      isConfig: true,\n      readOnly: !this.props.canSaveConfig\n    }) : this.props.isSettingsTab ? /*#__PURE__*/React.createElement(SettingsEditor_1.PlaygroundSettingsEditor, {\n      onSave: this.handleSaveSettings\n    }) : this.props.isFile && this.props.file ? /*#__PURE__*/React.createElement(FileEditor_1[\"default\"], null) : /*#__PURE__*/React.createElement(GraphQLEditor_1[\"default\"], {\n      shareEnabled: this.props.shareEnabled,\n      fixedEndpoint: this.props.fixedEndpoint,\n      schema: this.state.schema\n    }))), /*#__PURE__*/React.createElement(Settings_1[\"default\"], null), this.props.historyOpen && this.renderHistoryPopup());\n  };\n\n  Playground.prototype.renderHistoryPopup = function () {\n    return /*#__PURE__*/React.createElement(HistoryPopup_1[\"default\"], null);\n  };\n\n  Playground.prototype.updateSchema = function (currentSchema, newSchema, props) {\n    // first check for reference equality\n    if (currentSchema !== newSchema) {\n      // if references are not equal, do an equality check on the printed schema\n      var currentSchemaStr = currentSchema ? util_1.cachedPrintSchema(currentSchema) : null;\n      var newSchemaStr = util_1.cachedPrintSchema(newSchema);\n\n      if (newSchemaStr !== currentSchemaStr || !props.isPollingSchema) {\n        this.setState({\n          schema: newSchema\n        });\n      }\n    }\n  };\n\n  Object.defineProperty(Playground.prototype, \"httpApiPrefix\", {\n    get: function get() {\n      return this.props.endpoint.match(/(https?:\\/\\/.*?)\\/?/)[1];\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Playground.defaultProps = {\n    shareEnabled: false\n  };\n  return Playground;\n}(React.PureComponent);\n\nexports.Playground = Playground;\nvar mapStateToProps = reselect_1.createStructuredSelector({\n  isConfigTab: selectors_1.getIsConfigTab,\n  isSettingsTab: selectors_1.getIsSettingsTab,\n  isFile: selectors_1.getIsFile,\n  historyOpen: selectors_2.getHistoryOpen,\n  file: selectors_1.getFile,\n  sessionHeaders: selectors_1.getHeaders,\n  settings: reducers_1.getSettings,\n  settingsString: reducers_1.getSettingsString,\n  isReloadingSchema: selectors_1.getIsReloadingSchema,\n  isPollingSchema: selectors_1.getIsPollingSchema,\n  sessionEndpoint: selectors_1.getEndpoint\n});\nexports[\"default\"] = react_redux_1.connect(mapStateToProps, {\n  selectTabIndex: actions_1.selectTabIndex,\n  selectNextTab: actions_1.selectNextTab,\n  selectPrevTab: actions_1.selectPrevTab,\n  newSession: actions_1.newSession,\n  closeSelectedTab: actions_1.closeSelectedTab,\n  initState: actions_3.initState,\n  saveSettings: actions_1.saveSettings,\n  saveConfig: actions_1.saveConfig,\n  setTracingSupported: actions_1.setTracingSupported,\n  injectHeaders: actions_1.injectHeaders,\n  setConfigString: actions_2.setConfigString,\n  schemaFetchingError: actions_1.schemaFetchingError,\n  schemaFetchingSuccess: actions_1.schemaFetchingSuccess\n})(Playground);\nvar PlaygroundContainer = styled_1.styled.div(templateObject_1 || (templateObject_1 = __makeTemplateObject([\"\\n  flex: 1;\\n  display: flex;\\n  flex-direction: column;\\n\\n  height: 100%;\\n  margin: 0;\\n  padding: 0;\\n  overflow: hidden;\\n  margin-right: -1px !important;\\n\\n  line-height: 1.5;\\n  font-family: 'Open Sans', sans-serif;\\n  -webkit-font-smoothing: antialiased;\\n  -moz-osx-font-smoothing: grayscale;\\n  letter-spacing: 0.53px;\\n  color: rgba(0, 0, 0, 0.8);\\n\\n  a:active,\\n  a:focus,\\n  button:focus,\\n  input:focus {\\n    outline: none;\\n  }\\n\"], [\"\\n  flex: 1;\\n  display: flex;\\n  flex-direction: column;\\n\\n  height: 100%;\\n  margin: 0;\\n  padding: 0;\\n  overflow: hidden;\\n  margin-right: -1px !important;\\n\\n  line-height: 1.5;\\n  font-family: 'Open Sans', sans-serif;\\n  -webkit-font-smoothing: antialiased;\\n  -moz-osx-font-smoothing: grayscale;\\n  letter-spacing: 0.53px;\\n  color: rgba(0, 0, 0, 0.8);\\n\\n  a:active,\\n  a:focus,\\n  button:focus,\\n  input:focus {\\n    outline: none;\\n  }\\n\"])));\nvar GraphiqlsContainer = styled_1.styled.div(templateObject_2 || (templateObject_2 = __makeTemplateObject([\"\\n  height: calc(100vh - 57px);\\n  position: relative;\\n  overflow: hidden;\\n\"], [\"\\n  height: calc(100vh - 57px);\\n  position: relative;\\n  overflow: hidden;\\n\"])));\nvar GraphiqlWrapper = styled_1.styled.div(templateObject_3 || (templateObject_3 = __makeTemplateObject([\"\\n  width: 100%;\\n  height: 100%;\\n  position: relative;\\n  overflow: hidden;\\n  visibility: hidden;\\n  &.active {\\n    visibility: visible;\\n  }\\n\"], [\"\\n  width: 100%;\\n  height: 100%;\\n  position: relative;\\n  overflow: hidden;\\n  visibility: hidden;\\n  &.active {\\n    visibility: visible;\\n  }\\n\"])));\nvar templateObject_1, templateObject_2, templateObject_3;"]},"metadata":{},"sourceType":"script"}