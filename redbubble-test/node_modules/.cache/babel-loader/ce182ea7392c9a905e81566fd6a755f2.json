{"ast":null,"code":"\"use strict\";\n\nvar __extends = void 0 && (void 0).__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar __makeTemplateObject = void 0 && (void 0).__makeTemplateObject || function (cooked, raw) {\n  if (Object.defineProperty) {\n    Object.defineProperty(cooked, \"raw\", {\n      value: raw\n    });\n  } else {\n    cooked.raw = raw;\n  }\n\n  return cooked;\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar React = require(\"react\");\n\nvar graphql_1 = require(\"graphql\");\n\nvar EditorWrapper_1 = require(\"../EditorWrapper\");\n\nvar styled_1 = require(\"../../../styled\");\n\nvar createSDL_1 = require(\"../util/createSDL\");\n\nvar SDLEditor =\n/** @class */\nfunction (_super) {\n  __extends(SDLEditor, _super);\n\n  function SDLEditor(props) {\n    var _this = _super.call(this, props) || this;\n\n    _this.handleScroll = function (e) {\n      if (e.doc.scrollTop > 0) {\n        return _this.setState({\n          overflowY: true\n        });\n      }\n\n      return _this.setState({\n        overflowY: false\n      });\n    };\n\n    _this.setRef = function (ref) {\n      _this.node = ref;\n    };\n\n    _this.state = {\n      overflowY: false\n    }; // Keep a cached version of the value, this cache will be updated when the\n    // editor is updated, which can later be used to protect the editor from\n    // unnecessary updates during the update lifecycle.\n\n    _this.cachedValue = props.value || '';\n\n    if (_this.props.getRef) {\n      _this.props.getRef(_this);\n    }\n\n    return _this;\n  }\n\n  SDLEditor.prototype.componentDidMount = function () {\n    // Lazily require to ensure requiring GraphiQL outside of a Browser context\n    // does not produce an error.\n    var CodeMirror = require('codemirror');\n\n    require('codemirror/addon/fold/brace-fold');\n\n    require('codemirror/addon/comment/comment');\n\n    require('codemirror-graphql/mode');\n\n    var gutters = [];\n    gutters.push('CodeMirror-linenumbers');\n    this.editor = CodeMirror(this.node, {\n      autofocus: false,\n      value: createSDL_1.getSDL(this.props.schema, this.props.settings['schema.disableComments']) || '',\n      lineNumbers: false,\n      showCursorWhenSelecting: false,\n      tabSize: 1,\n      mode: 'graphql',\n      theme: 'graphiql',\n      // lineWrapping: true,\n      keyMap: 'sublime',\n      readOnly: true,\n      gutters: gutters\n    });\n    global.editor = this.editor;\n    this.editor.on('scroll', this.handleScroll);\n    this.editor.refresh();\n  };\n\n  SDLEditor.prototype.componentDidUpdate = function (prevProps) {\n    var CodeMirror = require('codemirror');\n\n    var currentSchemaStr = this.props.schema && graphql_1.printSchema(this.props.schema);\n    var prevSchemaStr = prevProps.schema && graphql_1.printSchema(prevProps.schema);\n\n    if (currentSchemaStr !== prevSchemaStr) {\n      var initialScroll = this.editor.getScrollInfo();\n      this.cachedValue = createSDL_1.getSDL(this.props.schema, this.props.settings['schema.disableComments']) || '';\n      this.editor.setValue(createSDL_1.getSDL(this.props.schema, this.props.settings['schema.disableComments']));\n\n      if (this.props.isPollingSchema) {\n        this.editor.scrollTo(initialScroll.left, initialScroll.top);\n      }\n\n      CodeMirror.signal(this.editor, 'change', this.editor);\n    }\n\n    if (this.props.width !== prevProps.width) {\n      this.editor.refresh();\n    }\n\n    if (this.props.settings['schema.disableComments'] !== prevProps.settings['schema.disableComments']) {\n      this.editor.refresh();\n    }\n  };\n\n  SDLEditor.prototype.UNSAFE_componentWillReceiveProps = function (nextProps) {\n    if (this.props.sessionId !== nextProps.sessionId) {\n      this.editor.scrollTo(0, 0);\n    }\n  };\n\n  SDLEditor.prototype.componentWillUnmount = function () {\n    if (this.editor) {\n      this.editor.off('scroll');\n      this.editor = null;\n    }\n  };\n\n  SDLEditor.prototype.render = function () {\n    var overflowY = this.state.overflowY;\n    return /*#__PURE__*/React.createElement(EditorWrapper_1[\"default\"], null, overflowY && /*#__PURE__*/React.createElement(OverflowShadow, null), /*#__PURE__*/React.createElement(Editor, {\n      ref: this.setRef\n    }));\n  };\n\n  SDLEditor.prototype.getCodeMirror = function () {\n    return this.editor;\n  };\n\n  SDLEditor.prototype.getClientHeight = function () {\n    return this.node && this.node.clientHeight;\n  };\n\n  return SDLEditor;\n}(React.PureComponent);\n\nexports[\"default\"] = SDLEditor;\nvar Editor = styled_1.styled.div(templateObject_1 || (templateObject_1 = __makeTemplateObject([\"\\n  flex: 1;\\n  height: auto;\\n  overflow-x: hidden;\\n  overflow-y: scroll;\\n  .CodeMirror {\\n    background: \", \";\\n    padding-left: 20px;\\n  }\\n\"], [\"\\n  flex: 1;\\n  height: auto;\\n  overflow-x: hidden;\\n  overflow-y: scroll;\\n  .CodeMirror {\\n    background: \", \";\\n    padding-left: 20px;\\n  }\\n\"])), function (p) {\n  return p.theme.mode === 'dark' ? p.theme.editorColours.editorBackground : 'white';\n});\nvar OverflowShadow = styled_1.styled.div(templateObject_2 || (templateObject_2 = __makeTemplateObject([\"\\n  position: fixed;\\n  top: 0;\\n  left: 0;\\n  right: 0;\\n  height: 1px;\\n  box-shadow: 0px 1px 3px rgba(17, 17, 17, 0.1);\\n  z-index: 1000;\\n\"], [\"\\n  position: fixed;\\n  top: 0;\\n  left: 0;\\n  right: 0;\\n  height: 1px;\\n  box-shadow: 0px 1px 3px rgba(17, 17, 17, 0.1);\\n  z-index: 1000;\\n\"])));\nvar templateObject_1, templateObject_2;","map":{"version":3,"sources":["/Users/wubo/Desktop/card-design/card-design/node_modules/graphql-playground-react/lib/components/Playground/SchemaExplorer/SDLEditor.js"],"names":["__extends","_extendStatics","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","prototype","create","__makeTemplateObject","cooked","raw","defineProperty","value","exports","React","require","graphql_1","EditorWrapper_1","styled_1","createSDL_1","SDLEditor","_super","props","_this","call","handleScroll","e","doc","scrollTop","setState","overflowY","setRef","ref","node","state","cachedValue","getRef","componentDidMount","CodeMirror","gutters","push","editor","autofocus","getSDL","schema","settings","lineNumbers","showCursorWhenSelecting","tabSize","mode","theme","keyMap","readOnly","global","on","refresh","componentDidUpdate","prevProps","currentSchemaStr","printSchema","prevSchemaStr","initialScroll","getScrollInfo","setValue","isPollingSchema","scrollTo","left","top","signal","width","UNSAFE_componentWillReceiveProps","nextProps","sessionId","componentWillUnmount","off","render","createElement","OverflowShadow","Editor","getCodeMirror","getClientHeight","clientHeight","PureComponent","styled","div","templateObject_1","editorColours","editorBackground","templateObject_2"],"mappings":"AAAA;;AAEA,IAAIA,SAAS,GAAG,KAAK,CAAL,IAAU,CAAC,KAAK,CAAN,EAASA,SAAnB,IAAgC,YAAY;AAC1D,MAAIC,cAAc,GAAG,SAASC,aAAT,CAAuBC,CAAvB,EAA0BC,CAA1B,EAA6B;AAChDH,IAAAA,cAAc,GAAGI,MAAM,CAACC,cAAP,IAAyB;AACxCC,MAAAA,SAAS,EAAE;AAD6B,iBAE7BC,KAF6B,IAEpB,UAAUL,CAAV,EAAaC,CAAb,EAAgB;AACpCD,MAAAA,CAAC,CAACI,SAAF,GAAcH,CAAd;AACD,KAJgB,IAIZ,UAAUD,CAAV,EAAaC,CAAb,EAAgB;AACnB,WAAK,IAAIK,CAAT,IAAcL,CAAd,EAAiB;AACf,YAAIA,CAAC,CAACM,cAAF,CAAiBD,CAAjB,CAAJ,EAAyBN,CAAC,CAACM,CAAD,CAAD,GAAOL,CAAC,CAACK,CAAD,CAAR;AAC1B;AACF,KARD;;AAUA,WAAOR,cAAc,CAACE,CAAD,EAAIC,CAAJ,CAArB;AACD,GAZD;;AAcA,SAAO,UAAUD,CAAV,EAAaC,CAAb,EAAgB;AACrBH,IAAAA,cAAc,CAACE,CAAD,EAAIC,CAAJ,CAAd;;AAEA,aAASO,EAAT,GAAc;AACZ,WAAKC,WAAL,GAAmBT,CAAnB;AACD;;AAEDA,IAAAA,CAAC,CAACU,SAAF,GAAcT,CAAC,KAAK,IAAN,GAAaC,MAAM,CAACS,MAAP,CAAcV,CAAd,CAAb,IAAiCO,EAAE,CAACE,SAAH,GAAeT,CAAC,CAACS,SAAjB,EAA4B,IAAIF,EAAJ,EAA7D,CAAd;AACD,GARD;AASD,CAxB+C,EAAhD;;AA0BA,IAAII,oBAAoB,GAAG,KAAK,CAAL,IAAU,CAAC,KAAK,CAAN,EAASA,oBAAnB,IAA2C,UAAUC,MAAV,EAAkBC,GAAlB,EAAuB;AAC3F,MAAIZ,MAAM,CAACa,cAAX,EAA2B;AACzBb,IAAAA,MAAM,CAACa,cAAP,CAAsBF,MAAtB,EAA8B,KAA9B,EAAqC;AACnCG,MAAAA,KAAK,EAAEF;AAD4B,KAArC;AAGD,GAJD,MAIO;AACLD,IAAAA,MAAM,CAACC,GAAP,GAAaA,GAAb;AACD;;AAED,SAAOD,MAAP;AACD,CAVD;;AAYAX,MAAM,CAACa,cAAP,CAAsBE,OAAtB,EAA+B,YAA/B,EAA6C;AAC3CD,EAAAA,KAAK,EAAE;AADoC,CAA7C;;AAIA,IAAIE,KAAK,GAAGC,OAAO,CAAC,OAAD,CAAnB;;AAEA,IAAIC,SAAS,GAAGD,OAAO,CAAC,SAAD,CAAvB;;AAEA,IAAIE,eAAe,GAAGF,OAAO,CAAC,kBAAD,CAA7B;;AAEA,IAAIG,QAAQ,GAAGH,OAAO,CAAC,iBAAD,CAAtB;;AAEA,IAAII,WAAW,GAAGJ,OAAO,CAAC,mBAAD,CAAzB;;AAEA,IAAIK,SAAS;AACb;AACA,UAAUC,MAAV,EAAkB;AAChB5B,EAAAA,SAAS,CAAC2B,SAAD,EAAYC,MAAZ,CAAT;;AAEA,WAASD,SAAT,CAAmBE,KAAnB,EAA0B;AACxB,QAAIC,KAAK,GAAGF,MAAM,CAACG,IAAP,CAAY,IAAZ,EAAkBF,KAAlB,KAA4B,IAAxC;;AAEAC,IAAAA,KAAK,CAACE,YAAN,GAAqB,UAAUC,CAAV,EAAa;AAChC,UAAIA,CAAC,CAACC,GAAF,CAAMC,SAAN,GAAkB,CAAtB,EAAyB;AACvB,eAAOL,KAAK,CAACM,QAAN,CAAe;AACpBC,UAAAA,SAAS,EAAE;AADS,SAAf,CAAP;AAGD;;AAED,aAAOP,KAAK,CAACM,QAAN,CAAe;AACpBC,QAAAA,SAAS,EAAE;AADS,OAAf,CAAP;AAGD,KAVD;;AAYAP,IAAAA,KAAK,CAACQ,MAAN,GAAe,UAAUC,GAAV,EAAe;AAC5BT,MAAAA,KAAK,CAACU,IAAN,GAAaD,GAAb;AACD,KAFD;;AAIAT,IAAAA,KAAK,CAACW,KAAN,GAAc;AACZJ,MAAAA,SAAS,EAAE;AADC,KAAd,CAnBwB,CAqBrB;AACH;AACA;;AAEAP,IAAAA,KAAK,CAACY,WAAN,GAAoBb,KAAK,CAACV,KAAN,IAAe,EAAnC;;AAEA,QAAIW,KAAK,CAACD,KAAN,CAAYc,MAAhB,EAAwB;AACtBb,MAAAA,KAAK,CAACD,KAAN,CAAYc,MAAZ,CAAmBb,KAAnB;AACD;;AAED,WAAOA,KAAP;AACD;;AAEDH,EAAAA,SAAS,CAACd,SAAV,CAAoB+B,iBAApB,GAAwC,YAAY;AAClD;AACA;AACA,QAAIC,UAAU,GAAGvB,OAAO,CAAC,YAAD,CAAxB;;AAEAA,IAAAA,OAAO,CAAC,kCAAD,CAAP;;AAEAA,IAAAA,OAAO,CAAC,kCAAD,CAAP;;AAEAA,IAAAA,OAAO,CAAC,yBAAD,CAAP;;AAEA,QAAIwB,OAAO,GAAG,EAAd;AACAA,IAAAA,OAAO,CAACC,IAAR,CAAa,wBAAb;AACA,SAAKC,MAAL,GAAcH,UAAU,CAAC,KAAKL,IAAN,EAAY;AAClCS,MAAAA,SAAS,EAAE,KADuB;AAElC9B,MAAAA,KAAK,EAAEO,WAAW,CAACwB,MAAZ,CAAmB,KAAKrB,KAAL,CAAWsB,MAA9B,EAAsC,KAAKtB,KAAL,CAAWuB,QAAX,CAAoB,wBAApB,CAAtC,KAAwF,EAF7D;AAGlCC,MAAAA,WAAW,EAAE,KAHqB;AAIlCC,MAAAA,uBAAuB,EAAE,KAJS;AAKlCC,MAAAA,OAAO,EAAE,CALyB;AAMlCC,MAAAA,IAAI,EAAE,SAN4B;AAOlCC,MAAAA,KAAK,EAAE,UAP2B;AAQlC;AACAC,MAAAA,MAAM,EAAE,SAT0B;AAUlCC,MAAAA,QAAQ,EAAE,IAVwB;AAWlCb,MAAAA,OAAO,EAAEA;AAXyB,KAAZ,CAAxB;AAaAc,IAAAA,MAAM,CAACZ,MAAP,GAAgB,KAAKA,MAArB;AACA,SAAKA,MAAL,CAAYa,EAAZ,CAAe,QAAf,EAAyB,KAAK7B,YAA9B;AACA,SAAKgB,MAAL,CAAYc,OAAZ;AACD,GA7BD;;AA+BAnC,EAAAA,SAAS,CAACd,SAAV,CAAoBkD,kBAApB,GAAyC,UAAUC,SAAV,EAAqB;AAC5D,QAAInB,UAAU,GAAGvB,OAAO,CAAC,YAAD,CAAxB;;AAEA,QAAI2C,gBAAgB,GAAG,KAAKpC,KAAL,CAAWsB,MAAX,IAAqB5B,SAAS,CAAC2C,WAAV,CAAsB,KAAKrC,KAAL,CAAWsB,MAAjC,CAA5C;AACA,QAAIgB,aAAa,GAAGH,SAAS,CAACb,MAAV,IAAoB5B,SAAS,CAAC2C,WAAV,CAAsBF,SAAS,CAACb,MAAhC,CAAxC;;AAEA,QAAIc,gBAAgB,KAAKE,aAAzB,EAAwC;AACtC,UAAIC,aAAa,GAAG,KAAKpB,MAAL,CAAYqB,aAAZ,EAApB;AACA,WAAK3B,WAAL,GAAmBhB,WAAW,CAACwB,MAAZ,CAAmB,KAAKrB,KAAL,CAAWsB,MAA9B,EAAsC,KAAKtB,KAAL,CAAWuB,QAAX,CAAoB,wBAApB,CAAtC,KAAwF,EAA3G;AACA,WAAKJ,MAAL,CAAYsB,QAAZ,CAAqB5C,WAAW,CAACwB,MAAZ,CAAmB,KAAKrB,KAAL,CAAWsB,MAA9B,EAAsC,KAAKtB,KAAL,CAAWuB,QAAX,CAAoB,wBAApB,CAAtC,CAArB;;AAEA,UAAI,KAAKvB,KAAL,CAAW0C,eAAf,EAAgC;AAC9B,aAAKvB,MAAL,CAAYwB,QAAZ,CAAqBJ,aAAa,CAACK,IAAnC,EAAyCL,aAAa,CAACM,GAAvD;AACD;;AAED7B,MAAAA,UAAU,CAAC8B,MAAX,CAAkB,KAAK3B,MAAvB,EAA+B,QAA/B,EAAyC,KAAKA,MAA9C;AACD;;AAED,QAAI,KAAKnB,KAAL,CAAW+C,KAAX,KAAqBZ,SAAS,CAACY,KAAnC,EAA0C;AACxC,WAAK5B,MAAL,CAAYc,OAAZ;AACD;;AAED,QAAI,KAAKjC,KAAL,CAAWuB,QAAX,CAAoB,wBAApB,MAAkDY,SAAS,CAACZ,QAAV,CAAmB,wBAAnB,CAAtD,EAAoG;AAClG,WAAKJ,MAAL,CAAYc,OAAZ;AACD;AACF,GAzBD;;AA2BAnC,EAAAA,SAAS,CAACd,SAAV,CAAoBgE,gCAApB,GAAuD,UAAUC,SAAV,EAAqB;AAC1E,QAAI,KAAKjD,KAAL,CAAWkD,SAAX,KAAyBD,SAAS,CAACC,SAAvC,EAAkD;AAChD,WAAK/B,MAAL,CAAYwB,QAAZ,CAAqB,CAArB,EAAwB,CAAxB;AACD;AACF,GAJD;;AAMA7C,EAAAA,SAAS,CAACd,SAAV,CAAoBmE,oBAApB,GAA2C,YAAY;AACrD,QAAI,KAAKhC,MAAT,EAAiB;AACf,WAAKA,MAAL,CAAYiC,GAAZ,CAAgB,QAAhB;AACA,WAAKjC,MAAL,GAAc,IAAd;AACD;AACF,GALD;;AAOArB,EAAAA,SAAS,CAACd,SAAV,CAAoBqE,MAApB,GAA6B,YAAY;AACvC,QAAI7C,SAAS,GAAG,KAAKI,KAAL,CAAWJ,SAA3B;AACA,WAAO,aAAahB,KAAK,CAAC8D,aAAN,CAAoB3D,eAAe,CAAC,SAAD,CAAnC,EAAgD,IAAhD,EAAsDa,SAAS,IAAI,aAAahB,KAAK,CAAC8D,aAAN,CAAoBC,cAApB,EAAoC,IAApC,CAAhF,EAA2H,aAAa/D,KAAK,CAAC8D,aAAN,CAAoBE,MAApB,EAA4B;AACtL9C,MAAAA,GAAG,EAAE,KAAKD;AAD4K,KAA5B,CAAxI,CAApB;AAGD,GALD;;AAOAX,EAAAA,SAAS,CAACd,SAAV,CAAoByE,aAApB,GAAoC,YAAY;AAC9C,WAAO,KAAKtC,MAAZ;AACD,GAFD;;AAIArB,EAAAA,SAAS,CAACd,SAAV,CAAoB0E,eAApB,GAAsC,YAAY;AAChD,WAAO,KAAK/C,IAAL,IAAa,KAAKA,IAAL,CAAUgD,YAA9B;AACD,GAFD;;AAIA,SAAO7D,SAAP;AACD,CA5HD,CA4HEN,KAAK,CAACoE,aA5HR,CAFA;;AAgIArE,OAAO,CAAC,SAAD,CAAP,GAAqBO,SAArB;AACA,IAAI0D,MAAM,GAAG5D,QAAQ,CAACiE,MAAT,CAAgBC,GAAhB,CAAoBC,gBAAgB,KAAKA,gBAAgB,GAAG7E,oBAAoB,CAAC,CAAC,gHAAD,EAAmH,mCAAnH,CAAD,EAA0J,CAAC,gHAAD,EAAmH,mCAAnH,CAA1J,CAA5C,CAApC,EAAqY,UAAUN,CAAV,EAAa;AAC7Z,SAAOA,CAAC,CAACgD,KAAF,CAAQD,IAAR,KAAiB,MAAjB,GAA0B/C,CAAC,CAACgD,KAAF,CAAQoC,aAAR,CAAsBC,gBAAhD,GAAmE,OAA1E;AACD,CAFY,CAAb;AAGA,IAAIV,cAAc,GAAG3D,QAAQ,CAACiE,MAAT,CAAgBC,GAAhB,CAAoBI,gBAAgB,KAAKA,gBAAgB,GAAGhF,oBAAoB,CAAC,CAAC,gJAAD,CAAD,EAAqJ,CAAC,gJAAD,CAArJ,CAA5C,CAApC,CAArB;AACA,IAAI6E,gBAAJ,EAAsBG,gBAAtB","sourcesContent":["\"use strict\";\n\nvar __extends = void 0 && (void 0).__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar __makeTemplateObject = void 0 && (void 0).__makeTemplateObject || function (cooked, raw) {\n  if (Object.defineProperty) {\n    Object.defineProperty(cooked, \"raw\", {\n      value: raw\n    });\n  } else {\n    cooked.raw = raw;\n  }\n\n  return cooked;\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar React = require(\"react\");\n\nvar graphql_1 = require(\"graphql\");\n\nvar EditorWrapper_1 = require(\"../EditorWrapper\");\n\nvar styled_1 = require(\"../../../styled\");\n\nvar createSDL_1 = require(\"../util/createSDL\");\n\nvar SDLEditor =\n/** @class */\nfunction (_super) {\n  __extends(SDLEditor, _super);\n\n  function SDLEditor(props) {\n    var _this = _super.call(this, props) || this;\n\n    _this.handleScroll = function (e) {\n      if (e.doc.scrollTop > 0) {\n        return _this.setState({\n          overflowY: true\n        });\n      }\n\n      return _this.setState({\n        overflowY: false\n      });\n    };\n\n    _this.setRef = function (ref) {\n      _this.node = ref;\n    };\n\n    _this.state = {\n      overflowY: false\n    }; // Keep a cached version of the value, this cache will be updated when the\n    // editor is updated, which can later be used to protect the editor from\n    // unnecessary updates during the update lifecycle.\n\n    _this.cachedValue = props.value || '';\n\n    if (_this.props.getRef) {\n      _this.props.getRef(_this);\n    }\n\n    return _this;\n  }\n\n  SDLEditor.prototype.componentDidMount = function () {\n    // Lazily require to ensure requiring GraphiQL outside of a Browser context\n    // does not produce an error.\n    var CodeMirror = require('codemirror');\n\n    require('codemirror/addon/fold/brace-fold');\n\n    require('codemirror/addon/comment/comment');\n\n    require('codemirror-graphql/mode');\n\n    var gutters = [];\n    gutters.push('CodeMirror-linenumbers');\n    this.editor = CodeMirror(this.node, {\n      autofocus: false,\n      value: createSDL_1.getSDL(this.props.schema, this.props.settings['schema.disableComments']) || '',\n      lineNumbers: false,\n      showCursorWhenSelecting: false,\n      tabSize: 1,\n      mode: 'graphql',\n      theme: 'graphiql',\n      // lineWrapping: true,\n      keyMap: 'sublime',\n      readOnly: true,\n      gutters: gutters\n    });\n    global.editor = this.editor;\n    this.editor.on('scroll', this.handleScroll);\n    this.editor.refresh();\n  };\n\n  SDLEditor.prototype.componentDidUpdate = function (prevProps) {\n    var CodeMirror = require('codemirror');\n\n    var currentSchemaStr = this.props.schema && graphql_1.printSchema(this.props.schema);\n    var prevSchemaStr = prevProps.schema && graphql_1.printSchema(prevProps.schema);\n\n    if (currentSchemaStr !== prevSchemaStr) {\n      var initialScroll = this.editor.getScrollInfo();\n      this.cachedValue = createSDL_1.getSDL(this.props.schema, this.props.settings['schema.disableComments']) || '';\n      this.editor.setValue(createSDL_1.getSDL(this.props.schema, this.props.settings['schema.disableComments']));\n\n      if (this.props.isPollingSchema) {\n        this.editor.scrollTo(initialScroll.left, initialScroll.top);\n      }\n\n      CodeMirror.signal(this.editor, 'change', this.editor);\n    }\n\n    if (this.props.width !== prevProps.width) {\n      this.editor.refresh();\n    }\n\n    if (this.props.settings['schema.disableComments'] !== prevProps.settings['schema.disableComments']) {\n      this.editor.refresh();\n    }\n  };\n\n  SDLEditor.prototype.UNSAFE_componentWillReceiveProps = function (nextProps) {\n    if (this.props.sessionId !== nextProps.sessionId) {\n      this.editor.scrollTo(0, 0);\n    }\n  };\n\n  SDLEditor.prototype.componentWillUnmount = function () {\n    if (this.editor) {\n      this.editor.off('scroll');\n      this.editor = null;\n    }\n  };\n\n  SDLEditor.prototype.render = function () {\n    var overflowY = this.state.overflowY;\n    return /*#__PURE__*/React.createElement(EditorWrapper_1[\"default\"], null, overflowY && /*#__PURE__*/React.createElement(OverflowShadow, null), /*#__PURE__*/React.createElement(Editor, {\n      ref: this.setRef\n    }));\n  };\n\n  SDLEditor.prototype.getCodeMirror = function () {\n    return this.editor;\n  };\n\n  SDLEditor.prototype.getClientHeight = function () {\n    return this.node && this.node.clientHeight;\n  };\n\n  return SDLEditor;\n}(React.PureComponent);\n\nexports[\"default\"] = SDLEditor;\nvar Editor = styled_1.styled.div(templateObject_1 || (templateObject_1 = __makeTemplateObject([\"\\n  flex: 1;\\n  height: auto;\\n  overflow-x: hidden;\\n  overflow-y: scroll;\\n  .CodeMirror {\\n    background: \", \";\\n    padding-left: 20px;\\n  }\\n\"], [\"\\n  flex: 1;\\n  height: auto;\\n  overflow-x: hidden;\\n  overflow-y: scroll;\\n  .CodeMirror {\\n    background: \", \";\\n    padding-left: 20px;\\n  }\\n\"])), function (p) {\n  return p.theme.mode === 'dark' ? p.theme.editorColours.editorBackground : 'white';\n});\nvar OverflowShadow = styled_1.styled.div(templateObject_2 || (templateObject_2 = __makeTemplateObject([\"\\n  position: fixed;\\n  top: 0;\\n  left: 0;\\n  right: 0;\\n  height: 1px;\\n  box-shadow: 0px 1px 3px rgba(17, 17, 17, 0.1);\\n  z-index: 1000;\\n\"], [\"\\n  position: fixed;\\n  top: 0;\\n  left: 0;\\n  right: 0;\\n  height: 1px;\\n  box-shadow: 0px 1px 3px rgba(17, 17, 17, 0.1);\\n  z-index: 1000;\\n\"])));\nvar templateObject_1, templateObject_2;"]},"metadata":{},"sourceType":"script"}