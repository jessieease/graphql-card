{"ast":null,"code":"\"use strict\";\n\nvar __extends = void 0 && (void 0).__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar __makeTemplateObject = void 0 && (void 0).__makeTemplateObject || function (cooked, raw) {\n  if (Object.defineProperty) {\n    Object.defineProperty(cooked, \"raw\", {\n      value: raw\n    });\n  } else {\n    cooked.raw = raw;\n  }\n\n  return cooked;\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar React = require(\"react\");\n\nvar EditorWrapper_1 = require(\"./EditorWrapper\");\n\nvar styled_1 = require(\"../../styled\");\n/**\n * The editor to edit json and yaml\n */\n\n\nvar ConfigEditor =\n/** @class */\nfunction (_super) {\n  __extends(ConfigEditor, _super);\n\n  function ConfigEditor(props) {\n    var _this = _super.call(this, props) || this;\n\n    _this.setNode = function (node) {\n      _this.node = node;\n    };\n\n    _this.onKeyUp = function (cm, event) {\n      var code = event.keyCode;\n\n      if (code >= 65 && code <= 90 || // letters\n      !event.shiftKey && code >= 48 && code <= 57 || // numbers\n      event.shiftKey && code === 189 || // underscore\n      event.shiftKey && code === 222 // \"\n      ) {\n        _this.editor.execCommand('autocomplete');\n      }\n    };\n\n    _this.onEdit = function () {\n      if (!_this.ignoreChangeEvent) {\n        _this.cachedValue = _this.editor.getValue();\n\n        if (_this.props.onEdit) {\n          _this.props.onEdit(_this.cachedValue);\n        }\n      }\n    }; // Keep a cached version of the value, this cache will be updated when the\n    // editor is updated, which can later be used to protect the editor from\n    // unnecessary updates during the update lifecycle.\n\n\n    _this.cachedValue = props.value || '';\n    return _this;\n  }\n\n  ConfigEditor.prototype.componentDidMount = function () {\n    var _this = this; // Lazily require to ensure requiring GraphiQL outside of a Browser context\n    // does not produce an error.\n\n\n    var CodeMirror = require('codemirror');\n\n    require('codemirror/addon/hint/show-hint');\n\n    require('codemirror/addon/edit/matchbrackets');\n\n    require('codemirror/addon/edit/closebrackets');\n\n    require('codemirror/addon/fold/brace-fold');\n\n    require('codemirror/addon/fold/foldgutter');\n\n    require('codemirror/addon/lint/lint');\n\n    require('codemirror/addon/search/searchcursor');\n\n    require('codemirror/addon/search/jump-to-line');\n\n    require('codemirror/addon/dialog/dialog');\n\n    require('codemirror/keymap/sublime');\n\n    require('codemirror/mode/yaml/yaml');\n\n    require('codemirror-graphql/variables/hint');\n\n    require('codemirror-graphql/variables/lint');\n\n    require('codemirror-graphql/variables/mode');\n\n    this.editor = CodeMirror(this.node, {\n      value: this.props.value || '',\n      lineNumbers: true,\n      tabSize: 2,\n      mode: this.props.isYaml ? 'yaml' : 'graphql-variables',\n      theme: this.props.editorTheme || 'graphiql',\n      keyMap: 'sublime',\n      autoCloseBrackets: true,\n      matchBrackets: true,\n      showCursorWhenSelecting: true,\n      readOnly: this.props.readOnly ? 'nocursor' : false,\n      foldGutter: {\n        minFoldSize: 4\n      },\n      gutters: ['CodeMirror-linenumbers', 'CodeMirror-foldgutter'],\n      extraKeys: {\n        'Cmd-Space': function CmdSpace() {\n          return _this.editor.showHint({\n            completeSingle: false\n          });\n        },\n        'Ctrl-Space': function CtrlSpace() {\n          return _this.editor.showHint({\n            completeSingle: false\n          });\n        },\n        'Alt-Space': function AltSpace() {\n          return _this.editor.showHint({\n            completeSingle: false\n          });\n        },\n        'Shift-Space': function ShiftSpace() {\n          return _this.editor.showHint({\n            completeSingle: false\n          });\n        },\n        'Cmd-Enter': function CmdEnter() {\n          if (_this.props.onRunQuery) {\n            _this.props.onRunQuery();\n          }\n        },\n        'Ctrl-Enter': function CtrlEnter() {\n          if (_this.props.onRunQuery) {\n            _this.props.onRunQuery();\n          }\n        },\n        'Shift-Ctrl-P': function ShiftCtrlP() {\n          if (_this.props.onPrettifyQuery) {\n            _this.props.onPrettifyQuery();\n          }\n        },\n        // Persistent search box in Query Editor\n        'Cmd-F': 'findPersistent',\n        'Ctrl-F': 'findPersistent',\n        // Editor improvements\n        'Ctrl-Left': 'goSubwordLeft',\n        'Ctrl-Right': 'goSubwordRight',\n        'Alt-Left': 'goGroupLeft',\n        'Alt-Right': 'goGroupRight'\n      }\n    });\n    this.editor.on('change', this.onEdit);\n    this.editor.on('keyup', this.onKeyUp);\n  };\n\n  ConfigEditor.prototype.componentDidUpdate = function (prevProps) {\n    // Ensure the changes caused by this update are not interpretted as\n    // user-input changes which could otherwise result in an infinite\n    // event loop.\n    this.ignoreChangeEvent = true;\n\n    if (this.props.value !== prevProps.value && this.props.value !== this.cachedValue) {\n      this.cachedValue = this.props.value;\n      this.editor.setValue(this.props.value);\n    }\n\n    this.ignoreChangeEvent = false;\n  };\n\n  ConfigEditor.prototype.componentWillUnmount = function () {\n    this.editor.off('change', this.onEdit);\n    this.editor.off('keyup', this.onKeyUp);\n    this.editor = null;\n  };\n\n  ConfigEditor.prototype.render = function () {\n    return /*#__PURE__*/React.createElement(EditorWrapper_1[\"default\"], null, /*#__PURE__*/React.createElement(Editor, {\n      ref: this.setNode\n    }));\n  };\n  /**\n   * Public API for retrieving the CodeMirror instance from this\n   * React component.\n   */\n\n\n  ConfigEditor.prototype.getCodeMirror = function () {\n    return this.editor;\n  };\n  /**\n   * Public API for retrieving the DOM client height for this component.\n   */\n\n\n  ConfigEditor.prototype.getClientHeight = function () {\n    return this.node && this.node.clientHeight;\n  };\n\n  return ConfigEditor;\n}(React.Component);\n\nexports.ConfigEditor = ConfigEditor;\nvar Editor = styled_1.styled.div(templateObject_1 || (templateObject_1 = __makeTemplateObject([\"\\n  flex: 1;\\n  height: 100%;\\n  position: relative;\\n  .CodeMirror-linenumbers {\\n    background: \", \";\\n  }\\n\"], [\"\\n  flex: 1;\\n  height: 100%;\\n  position: relative;\\n  .CodeMirror-linenumbers {\\n    background: \", \";\\n  }\\n\"])), function (p) {\n  return p.theme.editorColours.resultBackground;\n});\nvar templateObject_1;","map":{"version":3,"sources":["/Users/wubo/Desktop/card-design/card-design/node_modules/graphql-playground-react/lib/components/Playground/ConfigEditor.js"],"names":["__extends","_extendStatics","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","prototype","create","__makeTemplateObject","cooked","raw","defineProperty","value","exports","React","require","EditorWrapper_1","styled_1","ConfigEditor","_super","props","_this","call","setNode","node","onKeyUp","cm","event","code","keyCode","shiftKey","editor","execCommand","onEdit","ignoreChangeEvent","cachedValue","getValue","componentDidMount","CodeMirror","lineNumbers","tabSize","mode","isYaml","theme","editorTheme","keyMap","autoCloseBrackets","matchBrackets","showCursorWhenSelecting","readOnly","foldGutter","minFoldSize","gutters","extraKeys","CmdSpace","showHint","completeSingle","CtrlSpace","AltSpace","ShiftSpace","CmdEnter","onRunQuery","CtrlEnter","ShiftCtrlP","onPrettifyQuery","on","componentDidUpdate","prevProps","setValue","componentWillUnmount","off","render","createElement","Editor","ref","getCodeMirror","getClientHeight","clientHeight","Component","styled","div","templateObject_1","editorColours","resultBackground"],"mappings":"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","sourcesContent":["\"use strict\";\n\nvar __extends = void 0 && (void 0).__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar __makeTemplateObject = void 0 && (void 0).__makeTemplateObject || function (cooked, raw) {\n  if (Object.defineProperty) {\n    Object.defineProperty(cooked, \"raw\", {\n      value: raw\n    });\n  } else {\n    cooked.raw = raw;\n  }\n\n  return cooked;\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar React = require(\"react\");\n\nvar EditorWrapper_1 = require(\"./EditorWrapper\");\n\nvar styled_1 = require(\"../../styled\");\n/**\n * The editor to edit json and yaml\n */\n\n\nvar ConfigEditor =\n/** @class */\nfunction (_super) {\n  __extends(ConfigEditor, _super);\n\n  function ConfigEditor(props) {\n    var _this = _super.call(this, props) || this;\n\n    _this.setNode = function (node) {\n      _this.node = node;\n    };\n\n    _this.onKeyUp = function (cm, event) {\n      var code = event.keyCode;\n\n      if (code >= 65 && code <= 90 || // letters\n      !event.shiftKey && code >= 48 && code <= 57 || // numbers\n      event.shiftKey && code === 189 || // underscore\n      event.shiftKey && code === 222 // \"\n      ) {\n          _this.editor.execCommand('autocomplete');\n        }\n    };\n\n    _this.onEdit = function () {\n      if (!_this.ignoreChangeEvent) {\n        _this.cachedValue = _this.editor.getValue();\n\n        if (_this.props.onEdit) {\n          _this.props.onEdit(_this.cachedValue);\n        }\n      }\n    }; // Keep a cached version of the value, this cache will be updated when the\n    // editor is updated, which can later be used to protect the editor from\n    // unnecessary updates during the update lifecycle.\n\n\n    _this.cachedValue = props.value || '';\n    return _this;\n  }\n\n  ConfigEditor.prototype.componentDidMount = function () {\n    var _this = this; // Lazily require to ensure requiring GraphiQL outside of a Browser context\n    // does not produce an error.\n\n\n    var CodeMirror = require('codemirror');\n\n    require('codemirror/addon/hint/show-hint');\n\n    require('codemirror/addon/edit/matchbrackets');\n\n    require('codemirror/addon/edit/closebrackets');\n\n    require('codemirror/addon/fold/brace-fold');\n\n    require('codemirror/addon/fold/foldgutter');\n\n    require('codemirror/addon/lint/lint');\n\n    require('codemirror/addon/search/searchcursor');\n\n    require('codemirror/addon/search/jump-to-line');\n\n    require('codemirror/addon/dialog/dialog');\n\n    require('codemirror/keymap/sublime');\n\n    require('codemirror/mode/yaml/yaml');\n\n    require('codemirror-graphql/variables/hint');\n\n    require('codemirror-graphql/variables/lint');\n\n    require('codemirror-graphql/variables/mode');\n\n    this.editor = CodeMirror(this.node, {\n      value: this.props.value || '',\n      lineNumbers: true,\n      tabSize: 2,\n      mode: this.props.isYaml ? 'yaml' : 'graphql-variables',\n      theme: this.props.editorTheme || 'graphiql',\n      keyMap: 'sublime',\n      autoCloseBrackets: true,\n      matchBrackets: true,\n      showCursorWhenSelecting: true,\n      readOnly: this.props.readOnly ? 'nocursor' : false,\n      foldGutter: {\n        minFoldSize: 4\n      },\n      gutters: ['CodeMirror-linenumbers', 'CodeMirror-foldgutter'],\n      extraKeys: {\n        'Cmd-Space': function CmdSpace() {\n          return _this.editor.showHint({\n            completeSingle: false\n          });\n        },\n        'Ctrl-Space': function CtrlSpace() {\n          return _this.editor.showHint({\n            completeSingle: false\n          });\n        },\n        'Alt-Space': function AltSpace() {\n          return _this.editor.showHint({\n            completeSingle: false\n          });\n        },\n        'Shift-Space': function ShiftSpace() {\n          return _this.editor.showHint({\n            completeSingle: false\n          });\n        },\n        'Cmd-Enter': function CmdEnter() {\n          if (_this.props.onRunQuery) {\n            _this.props.onRunQuery();\n          }\n        },\n        'Ctrl-Enter': function CtrlEnter() {\n          if (_this.props.onRunQuery) {\n            _this.props.onRunQuery();\n          }\n        },\n        'Shift-Ctrl-P': function ShiftCtrlP() {\n          if (_this.props.onPrettifyQuery) {\n            _this.props.onPrettifyQuery();\n          }\n        },\n        // Persistent search box in Query Editor\n        'Cmd-F': 'findPersistent',\n        'Ctrl-F': 'findPersistent',\n        // Editor improvements\n        'Ctrl-Left': 'goSubwordLeft',\n        'Ctrl-Right': 'goSubwordRight',\n        'Alt-Left': 'goGroupLeft',\n        'Alt-Right': 'goGroupRight'\n      }\n    });\n    this.editor.on('change', this.onEdit);\n    this.editor.on('keyup', this.onKeyUp);\n  };\n\n  ConfigEditor.prototype.componentDidUpdate = function (prevProps) {\n    // Ensure the changes caused by this update are not interpretted as\n    // user-input changes which could otherwise result in an infinite\n    // event loop.\n    this.ignoreChangeEvent = true;\n\n    if (this.props.value !== prevProps.value && this.props.value !== this.cachedValue) {\n      this.cachedValue = this.props.value;\n      this.editor.setValue(this.props.value);\n    }\n\n    this.ignoreChangeEvent = false;\n  };\n\n  ConfigEditor.prototype.componentWillUnmount = function () {\n    this.editor.off('change', this.onEdit);\n    this.editor.off('keyup', this.onKeyUp);\n    this.editor = null;\n  };\n\n  ConfigEditor.prototype.render = function () {\n    return /*#__PURE__*/React.createElement(EditorWrapper_1[\"default\"], null, /*#__PURE__*/React.createElement(Editor, {\n      ref: this.setNode\n    }));\n  };\n  /**\n   * Public API for retrieving the CodeMirror instance from this\n   * React component.\n   */\n\n\n  ConfigEditor.prototype.getCodeMirror = function () {\n    return this.editor;\n  };\n  /**\n   * Public API for retrieving the DOM client height for this component.\n   */\n\n\n  ConfigEditor.prototype.getClientHeight = function () {\n    return this.node && this.node.clientHeight;\n  };\n\n  return ConfigEditor;\n}(React.Component);\n\nexports.ConfigEditor = ConfigEditor;\nvar Editor = styled_1.styled.div(templateObject_1 || (templateObject_1 = __makeTemplateObject([\"\\n  flex: 1;\\n  height: 100%;\\n  position: relative;\\n  .CodeMirror-linenumbers {\\n    background: \", \";\\n  }\\n\"], [\"\\n  flex: 1;\\n  height: 100%;\\n  position: relative;\\n  .CodeMirror-linenumbers {\\n    background: \", \";\\n  }\\n\"])), function (p) {\n  return p.theme.editorColours.resultBackground;\n});\nvar templateObject_1;"]},"metadata":{},"sourceType":"script"}