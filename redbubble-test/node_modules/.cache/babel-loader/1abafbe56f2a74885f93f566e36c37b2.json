{"ast":null,"code":"\"use strict\";\n\nvar __extends = void 0 && (void 0).__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar __makeTemplateObject = void 0 && (void 0).__makeTemplateObject || function (cooked, raw) {\n  if (Object.defineProperty) {\n    Object.defineProperty(cooked, \"raw\", {\n      value: raw\n    });\n  } else {\n    cooked.raw = raw;\n  }\n\n  return cooked;\n};\n\nvar __assign = void 0 && (void 0).__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar React = require(\"react\");\n\nvar index_1 = require(\"../../../styled/index\");\n\nvar copy = require(\"copy-to-clipboard\");\n\nvar Share_1 = require(\"../../Share\");\n\nvar SchemaReload_1 = require(\"./SchemaReload\");\n\nvar reselect_1 = require(\"reselect\");\n\nvar selectors_1 = require(\"../../../state/sessions/selectors\");\n\nvar react_redux_1 = require(\"react-redux\");\n\nvar selectors_2 = require(\"../../../state/general/selectors\");\n\nvar PropTypes = require(\"prop-types\");\n\nvar actions_1 = require(\"../../../state/sessions/actions\");\n\nvar actions_2 = require(\"../../../state/sharing/actions\");\n\nvar actions_3 = require(\"../../../state/general/actions\");\n\nvar reducers_1 = require(\"../../../state/workspace/reducers\");\n\nvar TopBar =\n/** @class */\nfunction (_super) {\n  __extends(TopBar, _super);\n\n  function TopBar() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.copyCurlToClipboard = function () {\n      var curl = _this.getCurl();\n\n      copy(curl);\n    };\n\n    _this.onChange = function (e) {\n      _this.props.editEndpoint(e.target.value);\n    };\n\n    _this.onKeyDown = function (e) {\n      if (e.keyCode === 13) {\n        _this.props.refetchSchema();\n      }\n    };\n\n    _this.openHistory = function () {\n      _this.props.openHistory();\n    };\n\n    _this.getCurl = function () {\n      var session = _this.props.session;\n      var variables;\n\n      try {\n        variables = JSON.parse(session.variables);\n      } catch (e) {//\n      }\n\n      var data = JSON.stringify({\n        query: session.query,\n        variables: variables,\n        operationName: session.operationName\n      });\n      var sessionHeaders;\n\n      try {\n        sessionHeaders = JSON.parse(session.headers);\n      } catch (e) {//\n      }\n\n      var globalHeaders = _this.props.settings['request.globalHeaders'];\n\n      var headers = __assign(__assign({\n        'Accept-Encoding': 'gzip, deflate, br',\n        'Content-Type': 'application/json',\n        Accept: 'application/json',\n        Connection: 'keep-alive',\n        DNT: '1',\n        Origin: location.origin || session.endpoint\n      }, globalHeaders), sessionHeaders);\n\n      var headersString = Object.keys(headers).map(function (key) {\n        var value = headers[key];\n        return \"-H '\" + key + \": \" + value + \"'\";\n      }).join(' ');\n      return \"curl '\" + session.endpoint + \"' \" + headersString + \" --data-binary '\" + data + \"' --compressed\";\n    };\n\n    return _this;\n  }\n\n  TopBar.prototype.render = function () {\n    var _a = this.props,\n        endpointUnreachable = _a.endpointUnreachable,\n        settings = _a.settings;\n    return /*#__PURE__*/React.createElement(TopBarWrapper, null, /*#__PURE__*/React.createElement(exports.Button, {\n      onClick: this.props.prettifyQuery\n    }, \"Prettify\"), /*#__PURE__*/React.createElement(exports.Button, {\n      onClick: this.openHistory\n    }, \"History\"), /*#__PURE__*/React.createElement(UrlBarWrapper, null, /*#__PURE__*/React.createElement(UrlBar, {\n      value: this.props.endpoint,\n      onChange: this.onChange,\n      onKeyDown: this.onKeyDown,\n      onBlur: this.props.refetchSchema,\n      disabled: this.props.fixedEndpoint,\n      active: !this.props.fixedEndpoint\n    }), endpointUnreachable ? /*#__PURE__*/React.createElement(ReachError, null, /*#__PURE__*/React.createElement(\"span\", null, \"Server cannot be reached\"), /*#__PURE__*/React.createElement(Spinner, null)) : /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        display: 'flex',\n        flexDirection: 'row',\n        alignItems: 'center',\n        position: 'absolute',\n        left: '6px'\n      }\n    }, /*#__PURE__*/React.createElement(SchemaReload_1[\"default\"], {\n      settings: settings,\n      isPollingSchema: this.props.isPollingSchema,\n      onReloadSchema: this.props.refetchSchema\n    }))), /*#__PURE__*/React.createElement(exports.Button, {\n      onClick: this.copyCurlToClipboard\n    }, \"Copy CURL\"), this.props.shareEnabled && /*#__PURE__*/React.createElement(Share_1[\"default\"], null, /*#__PURE__*/React.createElement(exports.Button, null, \"Share Playground\")));\n  };\n\n  TopBar.contextTypes = {\n    store: PropTypes.shape({\n      subscribe: PropTypes.func.isRequired,\n      dispatch: PropTypes.func.isRequired,\n      getState: PropTypes.func.isRequired\n    })\n  };\n  return TopBar;\n}(React.Component);\n\nvar mapStateToProps = reselect_1.createStructuredSelector({\n  endpoint: selectors_1.getEndpoint,\n  fixedEndpoint: selectors_2.getFixedEndpoint,\n  isPollingSchema: selectors_1.getIsPollingSchema,\n  endpointUnreachable: selectors_1.getEndpointUnreachable,\n  settings: reducers_1.getSettings,\n  session: selectors_1.getSelectedSession\n});\nexports[\"default\"] = react_redux_1.connect(mapStateToProps, {\n  editEndpoint: actions_1.editEndpoint,\n  prettifyQuery: actions_1.prettifyQuery,\n  openHistory: actions_3.openHistory,\n  share: actions_2.share,\n  refetchSchema: actions_1.refetchSchema\n})(TopBar);\nexports.Button = index_1.styled.button(templateObject_1 || (templateObject_1 = __makeTemplateObject([\"\\n  text-transform: uppercase;\\n  font-weight: 600;\\n  color: \", \";\\n  background: \", \";\\n  border-radius: 2px;\\n  flex: 0 0 auto;\\n  letter-spacing: 0.53px;\\n  font-size: 14px;\\n  padding: 6px 9px 7px 10px;\\n  margin-left: 6px;\\n\\n  cursor: pointer;\\n  transition: 0.1s linear background-color;\\n  &:first-child {\\n    margin-left: 0;\\n  }\\n  &:hover {\\n    background-color: \", \";\\n  }\\n\"], [\"\\n  text-transform: uppercase;\\n  font-weight: 600;\\n  color: \", \";\\n  background: \", \";\\n  border-radius: 2px;\\n  flex: 0 0 auto;\\n  letter-spacing: 0.53px;\\n  font-size: 14px;\\n  padding: 6px 9px 7px 10px;\\n  margin-left: 6px;\\n\\n  cursor: pointer;\\n  transition: 0.1s linear background-color;\\n  &:first-child {\\n    margin-left: 0;\\n  }\\n  &:hover {\\n    background-color: \", \";\\n  }\\n\"])), function (p) {\n  return p.theme.editorColours.buttonText;\n}, function (p) {\n  return p.theme.editorColours.button;\n}, function (p) {\n  return p.theme.editorColours.buttonHover;\n});\nvar TopBarWrapper = index_1.styled.div(templateObject_2 || (templateObject_2 = __makeTemplateObject([\"\\n  display: flex;\\n  background: \", \";\\n  padding: 10px 10px 4px;\\n  align-items: center;\\n\"], [\"\\n  display: flex;\\n  background: \", \";\\n  padding: 10px 10px 4px;\\n  align-items: center;\\n\"])), function (p) {\n  return p.theme.editorColours.navigationBar;\n});\nvar UrlBar = index_1.styled('input')(templateObject_3 || (templateObject_3 = __makeTemplateObject([\"\\n  background: \", \";\\n  border-radius: 4px;\\n  color: \", \";\\n  border: 1px solid \", \";\\n  padding: 6px 12px;\\n  padding-left: 30px;\\n  font-size: 13px;\\n  flex: 1;\\n\"], [\"\\n  background: \", \";\\n  border-radius: 4px;\\n  color: \", \";\\n  border: 1px solid \", \";\\n  padding: 6px 12px;\\n  padding-left: 30px;\\n  font-size: 13px;\\n  flex: 1;\\n\"])), function (p) {\n  return p.theme.editorColours.button;\n}, function (p) {\n  return p.active ? p.theme.editorColours.navigationBarText : p.theme.editorColours.textInactive;\n}, function (p) {\n  return p.theme.editorColours.background;\n});\nvar UrlBarWrapper = index_1.styled.div(templateObject_4 || (templateObject_4 = __makeTemplateObject([\"\\n  flex: 1;\\n  margin-left: 6px;\\n  position: relative;\\n  display: flex;\\n  align-items: center;\\n\"], [\"\\n  flex: 1;\\n  margin-left: 6px;\\n  position: relative;\\n  display: flex;\\n  align-items: center;\\n\"])));\nvar ReachError = index_1.styled.div(templateObject_5 || (templateObject_5 = __makeTemplateObject([\"\\n  position: absolute;\\n  right: 5px;\\n  display: flex;\\n  align-items: center;\\n  color: #f25c54;\\n\"], [\"\\n  position: absolute;\\n  right: 5px;\\n  display: flex;\\n  align-items: center;\\n  color: #f25c54;\\n\"])));\nvar Pulse = index_1.styled.div(templateObject_6 || (templateObject_6 = __makeTemplateObject([\"\\n  width: 16px;\\n  height: 16px;\\n  background-color: \", \";\\n  border-radius: 100%;\\n\"], [\"\\n  width: 16px;\\n  height: 16px;\\n  background-color: \", \";\\n  border-radius: 100%;\\n\"])), function (p) {\n  return p.theme.editorColours.icon;\n});\nvar SpinnerWrapper = index_1.styled.div(templateObject_7 || (templateObject_7 = __makeTemplateObject([\"\\n  position: relative;\\n  margin: 6px;\\n\"], [\"\\n  position: relative;\\n  margin: 6px;\\n\"])));\n\nvar Spinner = function Spinner() {\n  return /*#__PURE__*/React.createElement(SpinnerWrapper, null, /*#__PURE__*/React.createElement(Pulse, null));\n};\n\nvar templateObject_1, templateObject_2, templateObject_3, templateObject_4, templateObject_5, templateObject_6, templateObject_7;","map":{"version":3,"sources":["/Users/wubo/Desktop/card-design/card-design/node_modules/graphql-playground-react/lib/components/Playground/TopBar/TopBar.js"],"names":["__extends","_extendStatics","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","prototype","create","__makeTemplateObject","cooked","raw","defineProperty","value","__assign","assign","t","s","i","n","arguments","length","call","apply","exports","React","require","index_1","copy","Share_1","SchemaReload_1","reselect_1","selectors_1","react_redux_1","selectors_2","PropTypes","actions_1","actions_2","actions_3","reducers_1","TopBar","_super","_this","copyCurlToClipboard","curl","getCurl","onChange","e","props","editEndpoint","target","onKeyDown","keyCode","refetchSchema","openHistory","session","variables","JSON","parse","data","stringify","query","operationName","sessionHeaders","headers","globalHeaders","settings","Accept","Connection","DNT","Origin","location","origin","endpoint","headersString","keys","map","key","join","render","_a","endpointUnreachable","createElement","TopBarWrapper","Button","onClick","prettifyQuery","UrlBarWrapper","UrlBar","onBlur","disabled","fixedEndpoint","active","ReachError","Spinner","style","display","flexDirection","alignItems","position","left","isPollingSchema","onReloadSchema","shareEnabled","contextTypes","store","shape","subscribe","func","isRequired","dispatch","getState","Component","mapStateToProps","createStructuredSelector","getEndpoint","getFixedEndpoint","getIsPollingSchema","getEndpointUnreachable","getSettings","getSelectedSession","connect","share","styled","button","templateObject_1","theme","editorColours","buttonText","buttonHover","div","templateObject_2","navigationBar","templateObject_3","navigationBarText","textInactive","background","templateObject_4","templateObject_5","Pulse","templateObject_6","icon","SpinnerWrapper","templateObject_7"],"mappings":"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","sourcesContent":["\"use strict\";\n\nvar __extends = void 0 && (void 0).__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar __makeTemplateObject = void 0 && (void 0).__makeTemplateObject || function (cooked, raw) {\n  if (Object.defineProperty) {\n    Object.defineProperty(cooked, \"raw\", {\n      value: raw\n    });\n  } else {\n    cooked.raw = raw;\n  }\n\n  return cooked;\n};\n\nvar __assign = void 0 && (void 0).__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar React = require(\"react\");\n\nvar index_1 = require(\"../../../styled/index\");\n\nvar copy = require(\"copy-to-clipboard\");\n\nvar Share_1 = require(\"../../Share\");\n\nvar SchemaReload_1 = require(\"./SchemaReload\");\n\nvar reselect_1 = require(\"reselect\");\n\nvar selectors_1 = require(\"../../../state/sessions/selectors\");\n\nvar react_redux_1 = require(\"react-redux\");\n\nvar selectors_2 = require(\"../../../state/general/selectors\");\n\nvar PropTypes = require(\"prop-types\");\n\nvar actions_1 = require(\"../../../state/sessions/actions\");\n\nvar actions_2 = require(\"../../../state/sharing/actions\");\n\nvar actions_3 = require(\"../../../state/general/actions\");\n\nvar reducers_1 = require(\"../../../state/workspace/reducers\");\n\nvar TopBar =\n/** @class */\nfunction (_super) {\n  __extends(TopBar, _super);\n\n  function TopBar() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.copyCurlToClipboard = function () {\n      var curl = _this.getCurl();\n\n      copy(curl);\n    };\n\n    _this.onChange = function (e) {\n      _this.props.editEndpoint(e.target.value);\n    };\n\n    _this.onKeyDown = function (e) {\n      if (e.keyCode === 13) {\n        _this.props.refetchSchema();\n      }\n    };\n\n    _this.openHistory = function () {\n      _this.props.openHistory();\n    };\n\n    _this.getCurl = function () {\n      var session = _this.props.session;\n      var variables;\n\n      try {\n        variables = JSON.parse(session.variables);\n      } catch (e) {//\n      }\n\n      var data = JSON.stringify({\n        query: session.query,\n        variables: variables,\n        operationName: session.operationName\n      });\n      var sessionHeaders;\n\n      try {\n        sessionHeaders = JSON.parse(session.headers);\n      } catch (e) {//\n      }\n\n      var globalHeaders = _this.props.settings['request.globalHeaders'];\n\n      var headers = __assign(__assign({\n        'Accept-Encoding': 'gzip, deflate, br',\n        'Content-Type': 'application/json',\n        Accept: 'application/json',\n        Connection: 'keep-alive',\n        DNT: '1',\n        Origin: location.origin || session.endpoint\n      }, globalHeaders), sessionHeaders);\n\n      var headersString = Object.keys(headers).map(function (key) {\n        var value = headers[key];\n        return \"-H '\" + key + \": \" + value + \"'\";\n      }).join(' ');\n      return \"curl '\" + session.endpoint + \"' \" + headersString + \" --data-binary '\" + data + \"' --compressed\";\n    };\n\n    return _this;\n  }\n\n  TopBar.prototype.render = function () {\n    var _a = this.props,\n        endpointUnreachable = _a.endpointUnreachable,\n        settings = _a.settings;\n    return /*#__PURE__*/React.createElement(TopBarWrapper, null, /*#__PURE__*/React.createElement(exports.Button, {\n      onClick: this.props.prettifyQuery\n    }, \"Prettify\"), /*#__PURE__*/React.createElement(exports.Button, {\n      onClick: this.openHistory\n    }, \"History\"), /*#__PURE__*/React.createElement(UrlBarWrapper, null, /*#__PURE__*/React.createElement(UrlBar, {\n      value: this.props.endpoint,\n      onChange: this.onChange,\n      onKeyDown: this.onKeyDown,\n      onBlur: this.props.refetchSchema,\n      disabled: this.props.fixedEndpoint,\n      active: !this.props.fixedEndpoint\n    }), endpointUnreachable ? /*#__PURE__*/React.createElement(ReachError, null, /*#__PURE__*/React.createElement(\"span\", null, \"Server cannot be reached\"), /*#__PURE__*/React.createElement(Spinner, null)) : /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        display: 'flex',\n        flexDirection: 'row',\n        alignItems: 'center',\n        position: 'absolute',\n        left: '6px'\n      }\n    }, /*#__PURE__*/React.createElement(SchemaReload_1[\"default\"], {\n      settings: settings,\n      isPollingSchema: this.props.isPollingSchema,\n      onReloadSchema: this.props.refetchSchema\n    }))), /*#__PURE__*/React.createElement(exports.Button, {\n      onClick: this.copyCurlToClipboard\n    }, \"Copy CURL\"), this.props.shareEnabled && /*#__PURE__*/React.createElement(Share_1[\"default\"], null, /*#__PURE__*/React.createElement(exports.Button, null, \"Share Playground\")));\n  };\n\n  TopBar.contextTypes = {\n    store: PropTypes.shape({\n      subscribe: PropTypes.func.isRequired,\n      dispatch: PropTypes.func.isRequired,\n      getState: PropTypes.func.isRequired\n    })\n  };\n  return TopBar;\n}(React.Component);\n\nvar mapStateToProps = reselect_1.createStructuredSelector({\n  endpoint: selectors_1.getEndpoint,\n  fixedEndpoint: selectors_2.getFixedEndpoint,\n  isPollingSchema: selectors_1.getIsPollingSchema,\n  endpointUnreachable: selectors_1.getEndpointUnreachable,\n  settings: reducers_1.getSettings,\n  session: selectors_1.getSelectedSession\n});\nexports[\"default\"] = react_redux_1.connect(mapStateToProps, {\n  editEndpoint: actions_1.editEndpoint,\n  prettifyQuery: actions_1.prettifyQuery,\n  openHistory: actions_3.openHistory,\n  share: actions_2.share,\n  refetchSchema: actions_1.refetchSchema\n})(TopBar);\nexports.Button = index_1.styled.button(templateObject_1 || (templateObject_1 = __makeTemplateObject([\"\\n  text-transform: uppercase;\\n  font-weight: 600;\\n  color: \", \";\\n  background: \", \";\\n  border-radius: 2px;\\n  flex: 0 0 auto;\\n  letter-spacing: 0.53px;\\n  font-size: 14px;\\n  padding: 6px 9px 7px 10px;\\n  margin-left: 6px;\\n\\n  cursor: pointer;\\n  transition: 0.1s linear background-color;\\n  &:first-child {\\n    margin-left: 0;\\n  }\\n  &:hover {\\n    background-color: \", \";\\n  }\\n\"], [\"\\n  text-transform: uppercase;\\n  font-weight: 600;\\n  color: \", \";\\n  background: \", \";\\n  border-radius: 2px;\\n  flex: 0 0 auto;\\n  letter-spacing: 0.53px;\\n  font-size: 14px;\\n  padding: 6px 9px 7px 10px;\\n  margin-left: 6px;\\n\\n  cursor: pointer;\\n  transition: 0.1s linear background-color;\\n  &:first-child {\\n    margin-left: 0;\\n  }\\n  &:hover {\\n    background-color: \", \";\\n  }\\n\"])), function (p) {\n  return p.theme.editorColours.buttonText;\n}, function (p) {\n  return p.theme.editorColours.button;\n}, function (p) {\n  return p.theme.editorColours.buttonHover;\n});\nvar TopBarWrapper = index_1.styled.div(templateObject_2 || (templateObject_2 = __makeTemplateObject([\"\\n  display: flex;\\n  background: \", \";\\n  padding: 10px 10px 4px;\\n  align-items: center;\\n\"], [\"\\n  display: flex;\\n  background: \", \";\\n  padding: 10px 10px 4px;\\n  align-items: center;\\n\"])), function (p) {\n  return p.theme.editorColours.navigationBar;\n});\nvar UrlBar = index_1.styled('input')(templateObject_3 || (templateObject_3 = __makeTemplateObject([\"\\n  background: \", \";\\n  border-radius: 4px;\\n  color: \", \";\\n  border: 1px solid \", \";\\n  padding: 6px 12px;\\n  padding-left: 30px;\\n  font-size: 13px;\\n  flex: 1;\\n\"], [\"\\n  background: \", \";\\n  border-radius: 4px;\\n  color: \", \";\\n  border: 1px solid \", \";\\n  padding: 6px 12px;\\n  padding-left: 30px;\\n  font-size: 13px;\\n  flex: 1;\\n\"])), function (p) {\n  return p.theme.editorColours.button;\n}, function (p) {\n  return p.active ? p.theme.editorColours.navigationBarText : p.theme.editorColours.textInactive;\n}, function (p) {\n  return p.theme.editorColours.background;\n});\nvar UrlBarWrapper = index_1.styled.div(templateObject_4 || (templateObject_4 = __makeTemplateObject([\"\\n  flex: 1;\\n  margin-left: 6px;\\n  position: relative;\\n  display: flex;\\n  align-items: center;\\n\"], [\"\\n  flex: 1;\\n  margin-left: 6px;\\n  position: relative;\\n  display: flex;\\n  align-items: center;\\n\"])));\nvar ReachError = index_1.styled.div(templateObject_5 || (templateObject_5 = __makeTemplateObject([\"\\n  position: absolute;\\n  right: 5px;\\n  display: flex;\\n  align-items: center;\\n  color: #f25c54;\\n\"], [\"\\n  position: absolute;\\n  right: 5px;\\n  display: flex;\\n  align-items: center;\\n  color: #f25c54;\\n\"])));\nvar Pulse = index_1.styled.div(templateObject_6 || (templateObject_6 = __makeTemplateObject([\"\\n  width: 16px;\\n  height: 16px;\\n  background-color: \", \";\\n  border-radius: 100%;\\n\"], [\"\\n  width: 16px;\\n  height: 16px;\\n  background-color: \", \";\\n  border-radius: 100%;\\n\"])), function (p) {\n  return p.theme.editorColours.icon;\n});\nvar SpinnerWrapper = index_1.styled.div(templateObject_7 || (templateObject_7 = __makeTemplateObject([\"\\n  position: relative;\\n  margin: 6px;\\n\"], [\"\\n  position: relative;\\n  margin: 6px;\\n\"])));\n\nvar Spinner = function Spinner() {\n  return /*#__PURE__*/React.createElement(SpinnerWrapper, null, /*#__PURE__*/React.createElement(Pulse, null));\n};\n\nvar templateObject_1, templateObject_2, templateObject_3, templateObject_4, templateObject_5, templateObject_6, templateObject_7;"]},"metadata":{},"sourceType":"script"}