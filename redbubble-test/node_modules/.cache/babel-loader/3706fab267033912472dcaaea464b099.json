{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar graphql_1 = require(\"graphql\");\n\nvar LRU = require(\"lru-cache\");\n\nfunction getActiveEndpoints(config, envName, projectName) {\n  if (projectName) {\n    var env = config.projects[projectName].extensions.endpoints[envName];\n    return getEndpointFromEndpointConfig(env);\n  } else {\n    var env = config.extensions.endpoints[envName];\n    return getEndpointFromEndpointConfig(env);\n  }\n}\n\nexports.getActiveEndpoints = getActiveEndpoints;\n\nfunction getEndpointFromEndpointConfig(env) {\n  if (typeof env === 'string') {\n    return {\n      endpoint: env,\n      subscriptionEndpoint: undefined\n    };\n  } else {\n    return {\n      endpoint: env.url,\n      subscriptionEndpoint: env.subscription ? env.subscription.url : undefined,\n      headers: env.headers\n    };\n  }\n}\n\nexports.getEndpointFromEndpointConfig = getEndpointFromEndpointConfig;\nvar printSchemaCache = new LRU({\n  max: 10\n});\n/**\n * A cached version of `printSchema`\n * @param schema GraphQLSchema instance\n */\n\nfunction cachedPrintSchema(schema) {\n  var cachedString = printSchemaCache.get(schema);\n\n  if (cachedString) {\n    return cachedString;\n  }\n\n  var schemaString = graphql_1.printSchema(schema);\n  printSchemaCache.set(schema, schemaString);\n  return schemaString;\n}\n\nexports.cachedPrintSchema = cachedPrintSchema;","map":{"version":3,"sources":["/Users/wubo/Desktop/card-design/card-design/node_modules/graphql-playground-react/lib/components/util.js"],"names":["Object","defineProperty","exports","value","graphql_1","require","LRU","getActiveEndpoints","config","envName","projectName","env","projects","extensions","endpoints","getEndpointFromEndpointConfig","endpoint","subscriptionEndpoint","undefined","url","subscription","headers","printSchemaCache","max","cachedPrintSchema","schema","cachedString","get","schemaString","printSchema","set"],"mappings":"AAAA;;AAEAA,MAAM,CAACC,cAAP,CAAsBC,OAAtB,EAA+B,YAA/B,EAA6C;AAC3CC,EAAAA,KAAK,EAAE;AADoC,CAA7C;;AAIA,IAAIC,SAAS,GAAGC,OAAO,CAAC,SAAD,CAAvB;;AAEA,IAAIC,GAAG,GAAGD,OAAO,CAAC,WAAD,CAAjB;;AAEA,SAASE,kBAAT,CAA4BC,MAA5B,EAAoCC,OAApC,EAA6CC,WAA7C,EAA0D;AACxD,MAAIA,WAAJ,EAAiB;AACf,QAAIC,GAAG,GAAGH,MAAM,CAACI,QAAP,CAAgBF,WAAhB,EAA6BG,UAA7B,CAAwCC,SAAxC,CAAkDL,OAAlD,CAAV;AACA,WAAOM,6BAA6B,CAACJ,GAAD,CAApC;AACD,GAHD,MAGO;AACL,QAAIA,GAAG,GAAGH,MAAM,CAACK,UAAP,CAAkBC,SAAlB,CAA4BL,OAA5B,CAAV;AACA,WAAOM,6BAA6B,CAACJ,GAAD,CAApC;AACD;AACF;;AAEDT,OAAO,CAACK,kBAAR,GAA6BA,kBAA7B;;AAEA,SAASQ,6BAAT,CAAuCJ,GAAvC,EAA4C;AAC1C,MAAI,OAAOA,GAAP,KAAe,QAAnB,EAA6B;AAC3B,WAAO;AACLK,MAAAA,QAAQ,EAAEL,GADL;AAELM,MAAAA,oBAAoB,EAAEC;AAFjB,KAAP;AAID,GALD,MAKO;AACL,WAAO;AACLF,MAAAA,QAAQ,EAAEL,GAAG,CAACQ,GADT;AAELF,MAAAA,oBAAoB,EAAEN,GAAG,CAACS,YAAJ,GAAmBT,GAAG,CAACS,YAAJ,CAAiBD,GAApC,GAA0CD,SAF3D;AAGLG,MAAAA,OAAO,EAAEV,GAAG,CAACU;AAHR,KAAP;AAKD;AACF;;AAEDnB,OAAO,CAACa,6BAAR,GAAwCA,6BAAxC;AACA,IAAIO,gBAAgB,GAAG,IAAIhB,GAAJ,CAAQ;AAC7BiB,EAAAA,GAAG,EAAE;AADwB,CAAR,CAAvB;AAGA;AACA;AACA;AACA;;AAEA,SAASC,iBAAT,CAA2BC,MAA3B,EAAmC;AACjC,MAAIC,YAAY,GAAGJ,gBAAgB,CAACK,GAAjB,CAAqBF,MAArB,CAAnB;;AAEA,MAAIC,YAAJ,EAAkB;AAChB,WAAOA,YAAP;AACD;;AAED,MAAIE,YAAY,GAAGxB,SAAS,CAACyB,WAAV,CAAsBJ,MAAtB,CAAnB;AACAH,EAAAA,gBAAgB,CAACQ,GAAjB,CAAqBL,MAArB,EAA6BG,YAA7B;AACA,SAAOA,YAAP;AACD;;AAED1B,OAAO,CAACsB,iBAAR,GAA4BA,iBAA5B","sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar graphql_1 = require(\"graphql\");\n\nvar LRU = require(\"lru-cache\");\n\nfunction getActiveEndpoints(config, envName, projectName) {\n  if (projectName) {\n    var env = config.projects[projectName].extensions.endpoints[envName];\n    return getEndpointFromEndpointConfig(env);\n  } else {\n    var env = config.extensions.endpoints[envName];\n    return getEndpointFromEndpointConfig(env);\n  }\n}\n\nexports.getActiveEndpoints = getActiveEndpoints;\n\nfunction getEndpointFromEndpointConfig(env) {\n  if (typeof env === 'string') {\n    return {\n      endpoint: env,\n      subscriptionEndpoint: undefined\n    };\n  } else {\n    return {\n      endpoint: env.url,\n      subscriptionEndpoint: env.subscription ? env.subscription.url : undefined,\n      headers: env.headers\n    };\n  }\n}\n\nexports.getEndpointFromEndpointConfig = getEndpointFromEndpointConfig;\nvar printSchemaCache = new LRU({\n  max: 10\n});\n/**\n * A cached version of `printSchema`\n * @param schema GraphQLSchema instance\n */\n\nfunction cachedPrintSchema(schema) {\n  var cachedString = printSchemaCache.get(schema);\n\n  if (cachedString) {\n    return cachedString;\n  }\n\n  var schemaString = graphql_1.printSchema(schema);\n  printSchemaCache.set(schema, schemaString);\n  return schemaString;\n}\n\nexports.cachedPrintSchema = cachedPrintSchema;"]},"metadata":{},"sourceType":"script"}