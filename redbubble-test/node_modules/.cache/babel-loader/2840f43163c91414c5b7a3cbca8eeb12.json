{"ast":null,"code":"import _taggedTemplateLiteral from\"/Users/wubo/Desktop/graphql-card 2/redbubble-test/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";import _classCallCheck from\"/Users/wubo/Desktop/graphql-card 2/redbubble-test/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/wubo/Desktop/graphql-card 2/redbubble-test/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/Users/wubo/Desktop/graphql-card 2/redbubble-test/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/Users/wubo/Desktop/graphql-card 2/redbubble-test/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/wubo/Desktop/graphql-card 2/redbubble-test/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";var _templateObject;import React from'react';import{ApolloProvider}from'react-apollo';import{createHttpLink}from'apollo-link-http';import{InMemoryCache}from'apollo-cache-inmemory';import{ApolloClient,gql}from'apollo-boost';import SearchBox from'./components/SearchBox/SearchBox';import Cameras from'./components/Cameras/Cameras';import FilteredCameras from'./components/FilteredCameras/FilteredCameras';import'./App.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var httpLink=createHttpLink({uri:'https://take-home-test-gql.herokuapp.com/query'});var cache=new InMemoryCache();var client=new ApolloClient({link:httpLink,cache:cache});var App=/*#__PURE__*/function(_React$Component){_inherits(App,_React$Component);var _super=_createSuper(App);function App(){var _this;_classCallCheck(this,App);_this=_super.call(this);_this.handleChange=function(e){_this.setState({searchField:e.target.value});};_this.state={card:[],searchField:''};_this.handleChange=_this.handleChange.bind(_assertThisInitialized(_this));return _this;}_createClass(App,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;client.query({query:gql(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n      {\\n        works {\\n          id\\n          filename\\n          exif {\\n            model\\n            make\\n          }\\n          urls {\\n            type\\n            link\\n          }\\n        }\\n      }\\n      \"])))}).then(function(res){_this2.setState({card:res.data.works});});}},{key:\"render\",value:function render(){var _this$state=this.state,card=_this$state.card,searchField=_this$state.searchField;var filteredWork=card.filter(function(item){return item.exif.model.toLowerCase().includes(searchField.toLocaleLowerCase())||item.exif.make.toLowerCase().includes(searchField.toLocaleLowerCase());});return/*#__PURE__*/_jsxs(ApolloProvider,{client:client,children:[/*#__PURE__*/_jsx(\"h1\",{className:\"h1\",children:\"Camera Model and Make\"}),/*#__PURE__*/_jsx(SearchBox,{placeholder:\"Type the model and make\",handleChange:this.handleChange}),/*#__PURE__*/_jsx(\"div\",{className:\"App\",children:searchField?/*#__PURE__*/_jsx(FilteredCameras,{work:filteredWork}):/*#__PURE__*/_jsx(Cameras,{})})]});}}]);return App;}(React.Component);;export default App;","map":{"version":3,"sources":["/Users/wubo/Desktop/graphql-card 2/redbubble-test/src/App.js"],"names":["React","ApolloProvider","createHttpLink","InMemoryCache","ApolloClient","gql","SearchBox","Cameras","FilteredCameras","httpLink","uri","cache","client","link","App","handleChange","e","setState","searchField","target","value","state","card","bind","query","then","res","data","works","filteredWork","filter","item","exif","model","toLowerCase","includes","toLocaleLowerCase","make","Component"],"mappings":"ohCAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,cAAT,KAA+B,cAA/B,CACA,OAASC,cAAT,KAA+B,kBAA/B,CACA,OAASC,aAAT,KAA8B,uBAA9B,CACA,OAASC,YAAT,CAAuBC,GAAvB,KAAkC,cAAlC,CACA,MAAOC,CAAAA,SAAP,KAAsB,kCAAtB,CACA,MAAOC,CAAAA,OAAP,KAAoB,8BAApB,CACA,MAAOC,CAAAA,eAAP,KAA4B,8CAA5B,CAEA,MAAO,WAAP,C,wFAEA,GAAMC,CAAAA,QAAQ,CAAGP,cAAc,CAAC,CAC9BQ,GAAG,CAAE,gDADyB,CAAD,CAA/B,CAIA,GAAMC,CAAAA,KAAK,CAAG,GAAIR,CAAAA,aAAJ,EAAd,CAEA,GAAMS,CAAAA,MAAM,CAAG,GAAIR,CAAAA,YAAJ,CAAiB,CAC9BS,IAAI,CAAEJ,QADwB,CAE9BE,KAAK,CAALA,KAF8B,CAAjB,CAAf,C,GAKMG,CAAAA,G,sGACJ,cAAc,qCACZ,wBADY,MAkCdC,YAlCc,CAkCC,SAACC,CAAD,CAAO,CACpB,MAAKC,QAAL,CAAc,CAAEC,WAAW,CAAEF,CAAC,CAACG,MAAF,CAASC,KAAxB,CAAd,EACD,CApCa,CAGZ,MAAKC,KAAL,CAAa,CACXC,IAAI,CAAC,EADM,CAEXJ,WAAW,CAAE,EAFF,CAAb,CAIA,MAAKH,YAAL,CAAoB,MAAKA,YAAL,CAAkBQ,IAAlB,+BAApB,CAPY,aAQb,C,iDAED,4BAAoB,iBAClBX,MAAM,CAACY,KAAP,CAAa,CACXA,KAAK,CAAEnB,GAAF,gSADM,CAAb,EAkBCoB,IAlBD,CAkBM,SAAAC,GAAG,CAAI,CACX,MAAI,CAACT,QAAL,CAAc,CAAEK,IAAI,CAAEI,GAAG,CAACC,IAAJ,CAASC,KAAjB,CAAd,EACD,CApBD,EAqBD,C,sBAMD,iBAAU,iBACqB,KAAKP,KAD1B,CACAC,IADA,aACAA,IADA,CACMJ,WADN,aACMA,WADN,CAER,GAAMW,CAAAA,YAAY,CAAGP,IAAI,CAACQ,MAAL,CAAY,SAAAC,IAAI,QACnCA,CAAAA,IAAI,CAACC,IAAL,CAAUC,KAAV,CAAgBC,WAAhB,GAA8BC,QAA9B,CAAuCjB,WAAW,CAACkB,iBAAZ,EAAvC,GACGL,IAAI,CAACC,IAAL,CAAUK,IAAV,CAAeH,WAAf,GAA6BC,QAA7B,CAAsCjB,WAAW,CAACkB,iBAAZ,EAAtC,CAFgC,EAAhB,CAArB,CAKA,mBACE,MAAC,cAAD,EAAgB,MAAM,CAAExB,MAAxB,wBACA,WAAI,SAAS,CAAC,IAAd,mCADA,cAEA,KAAC,SAAD,EAAW,WAAW,CAAC,yBAAvB,CAAiD,YAAY,CAAE,KAAKG,YAApE,EAFA,cAGA,YAAK,SAAS,CAAC,KAAf,UACGG,WAAW,cAAG,KAAC,eAAD,EAAiB,IAAI,CAAEW,YAAvB,EAAH,cAA6C,KAAC,OAAD,IAD3D,EAHA,GADF,CASD,C,iBAvDe7B,KAAK,CAACsC,S,EAwDvB,CAED,cAAexB,CAAAA,GAAf","sourcesContent":["import React from 'react';\nimport { ApolloProvider } from 'react-apollo';\nimport { createHttpLink } from 'apollo-link-http'; \nimport { InMemoryCache } from 'apollo-cache-inmemory';\nimport { ApolloClient, gql } from 'apollo-boost';\nimport SearchBox from './components/SearchBox/SearchBox';\nimport Cameras from './components/Cameras/Cameras';\nimport FilteredCameras from './components/FilteredCameras/FilteredCameras';\n\nimport './App.css';\n\nconst httpLink = createHttpLink({\n  uri: 'https://take-home-test-gql.herokuapp.com/query'\n});\n\nconst cache = new InMemoryCache();\n\nconst client = new ApolloClient({\n  link: httpLink,\n  cache\n}) \n\nclass App extends React.Component {\n  constructor() {\n    super();\n\n    this.state = {\n      card:[],\n      searchField: ''\n    }\n    this.handleChange = this.handleChange.bind(this);\n  }\n\n  componentDidMount() {\n    client.query({\n      query: gql`\n      {\n        works {\n          id\n          filename\n          exif {\n            model\n            make\n          }\n          urls {\n            type\n            link\n          }\n        }\n      }\n      `\n    })\n    .then(res => {\n      this.setState({ card: res.data.works })\n    })\n  }\n\n  handleChange = (e) => {\n    this.setState({ searchField: e.target.value })\n  }\n\n  render () {\n    const { card, searchField } =this.state;\n    const filteredWork = card.filter(item => \n      item.exif.model.toLowerCase().includes(searchField.toLocaleLowerCase())\n      || item.exif.make.toLowerCase().includes(searchField.toLocaleLowerCase())\n    );\n  \n    return (\n      <ApolloProvider client={client}>\n      <h1 className='h1'>Camera Model and Make</h1>\n      <SearchBox placeholder='Type the model and make' handleChange={this.handleChange} />\n      <div className=\"App\">\n        {searchField ? <FilteredCameras work={filteredWork} /> : <Cameras /> }\n      </div>\n    </ApolloProvider>\n    )\n  }\n};\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}