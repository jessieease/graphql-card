{"ast":null,"code":"\"use strict\";\n/**\n *  Copyright (c) Facebook, Inc.\n *  All rights reserved.\n *\n *  This source code is licensed under the license found in the\n *  LICENSE file in the root directory of this source tree.\n */\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar escapeHTML = require('escape-html');\n\nvar MD = require(\"markdown-it\");\n\nvar md = new MD();\n/**\n * Render a custom UI for CodeMirror's hint which includes additional info\n * about the type and description for the selected context.\n */\n\nfunction onHasCompletion(cm, data, onHintInformationRender) {\n  var CodeMirror = require('codemirror');\n\n  var wrapper;\n  var information;\n  var deprecation; // When a hint result is selected, we touch the UI.\n\n  CodeMirror.on(data, 'select', function (ctx, el) {\n    // Only the first time (usually when the hint UI is first displayed)\n    // do we create the wrapping node.\n    if (!wrapper) {\n      // Wrap the existing hint UI, so we have a place to put information.\n      var hintsUl_1 = el.parentNode;\n      var container = hintsUl_1.parentNode;\n      wrapper = document.createElement('div');\n      container.appendChild(wrapper); // CodeMirror vertically inverts the hint UI if there is not enough\n      // space below the cursor. Since this modified UI appends to the bottom\n      // of CodeMirror's existing UI, it could cover the cursor. This adjusts\n      // the positioning of the hint UI to accomodate.\n\n      var top_1 = hintsUl_1.style.top;\n      var bottom = '';\n      var cursorTop = cm.cursorCoords().top;\n\n      if (parseInt(top_1, 10) < cursorTop) {\n        top_1 = '';\n        bottom = window.innerHeight - cursorTop + 3 + 'px';\n      } // Style the wrapper, remove positioning from hints. Note that usage\n      // of this option will need to specify CSS to remove some styles from\n      // the existing hint UI.\n\n\n      wrapper.className = 'CodeMirror-hints-wrapper';\n      wrapper.style.left = hintsUl_1.style.left;\n      wrapper.style.top = top_1;\n      wrapper.style.bottom = bottom;\n      hintsUl_1.style.left = '';\n      hintsUl_1.style.top = ''; // This \"information\" node will contain the additional info about the\n      // highlighted typeahead option.\n\n      information = document.createElement('div');\n      information.className = 'CodeMirror-hint-information'; // This \"deprecation\" node will contain info about deprecated usage.\n\n      deprecation = document.createElement('div');\n      deprecation.className = 'CodeMirror-hint-deprecation';\n\n      if (bottom) {\n        wrapper.appendChild(deprecation);\n        wrapper.appendChild(information);\n        wrapper.appendChild(hintsUl_1);\n      } else {\n        wrapper.appendChild(hintsUl_1);\n        wrapper.appendChild(information);\n        wrapper.appendChild(deprecation);\n      }\n\n      var wrapperHeight = wrapper.clientHeight;\n      var currentTop = parseFloat(String(top_1).replace('px', ''));\n      var newTop = currentTop;\n\n      if (wrapperHeight + currentTop > window.innerHeight) {\n        newTop = window.innerHeight - 40 - wrapperHeight;\n      }\n\n      wrapper.style.top = newTop + \"px\";\n      global.wrapper = wrapper; // When CodeMirror attempts to remove the hint UI, we detect that it was\n      // removed from our wrapper and in turn remove the wrapper from the\n      // original container.\n\n      var _onRemoveFn_;\n\n      wrapper.addEventListener('DOMNodeRemoved', _onRemoveFn_ = function onRemoveFn_1(event) {\n        if (event.target === hintsUl_1) {\n          wrapper.removeEventListener('DOMNodeRemoved', _onRemoveFn_);\n          wrapper.parentNode.removeChild(wrapper);\n          wrapper = null;\n          information = null;\n          _onRemoveFn_ = null;\n        }\n      });\n    } // Now that the UI has been set up, add info to information.\n\n\n    var description = ctx.description ? md.render(ctx.description) : '';\n    var type = ctx.type && ctx.type !== 'undefined' ? '<span class=\"infoType\">' + renderType(ctx.type) + '</span>' : '';\n    information.innerHTML = '<div class=\"content\">' + (description.slice(0, 3) === '<p>' ? '<p>' + type + description.slice(3) : type + description) + '</div>';\n\n    if (ctx.isDeprecated) {\n      var reason = ctx.deprecationReason ? md.render(ctx.deprecationReason) : '';\n      deprecation.innerHTML = '<span class=\"deprecation-label\">Deprecated</span>' + reason;\n      deprecation.style.display = 'block';\n    } else {\n      deprecation.style.display = 'none';\n    } // Additional rendering?\n\n\n    if (onHintInformationRender) {\n      onHintInformationRender(information);\n    }\n  });\n}\n\nexports[\"default\"] = onHasCompletion;\n\nfunction renderType(type) {\n  return \"<a class=\\\"typeName\\\">\" + escapeHTML(type.toString()) + \"</a>\";\n}","map":{"version":3,"sources":["/Users/wubo/Desktop/card-design/card-design/node_modules/graphql-playground-react/lib/components/Playground/onHasCompletion.js"],"names":["Object","defineProperty","exports","value","escapeHTML","require","MD","md","onHasCompletion","cm","data","onHintInformationRender","CodeMirror","wrapper","information","deprecation","on","ctx","el","hintsUl_1","parentNode","container","document","createElement","appendChild","top_1","style","top","bottom","cursorTop","cursorCoords","parseInt","window","innerHeight","className","left","wrapperHeight","clientHeight","currentTop","parseFloat","String","replace","newTop","global","_onRemoveFn_","addEventListener","onRemoveFn_1","event","target","removeEventListener","removeChild","description","render","type","renderType","innerHTML","slice","isDeprecated","reason","deprecationReason","display","toString"],"mappings":"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","sourcesContent":["\"use strict\";\n/**\n *  Copyright (c) Facebook, Inc.\n *  All rights reserved.\n *\n *  This source code is licensed under the license found in the\n *  LICENSE file in the root directory of this source tree.\n */\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar escapeHTML = require('escape-html');\n\nvar MD = require(\"markdown-it\");\n\nvar md = new MD();\n/**\n * Render a custom UI for CodeMirror's hint which includes additional info\n * about the type and description for the selected context.\n */\n\nfunction onHasCompletion(cm, data, onHintInformationRender) {\n  var CodeMirror = require('codemirror');\n\n  var wrapper;\n  var information;\n  var deprecation; // When a hint result is selected, we touch the UI.\n\n  CodeMirror.on(data, 'select', function (ctx, el) {\n    // Only the first time (usually when the hint UI is first displayed)\n    // do we create the wrapping node.\n    if (!wrapper) {\n      // Wrap the existing hint UI, so we have a place to put information.\n      var hintsUl_1 = el.parentNode;\n      var container = hintsUl_1.parentNode;\n      wrapper = document.createElement('div');\n      container.appendChild(wrapper); // CodeMirror vertically inverts the hint UI if there is not enough\n      // space below the cursor. Since this modified UI appends to the bottom\n      // of CodeMirror's existing UI, it could cover the cursor. This adjusts\n      // the positioning of the hint UI to accomodate.\n\n      var top_1 = hintsUl_1.style.top;\n      var bottom = '';\n      var cursorTop = cm.cursorCoords().top;\n\n      if (parseInt(top_1, 10) < cursorTop) {\n        top_1 = '';\n        bottom = window.innerHeight - cursorTop + 3 + 'px';\n      } // Style the wrapper, remove positioning from hints. Note that usage\n      // of this option will need to specify CSS to remove some styles from\n      // the existing hint UI.\n\n\n      wrapper.className = 'CodeMirror-hints-wrapper';\n      wrapper.style.left = hintsUl_1.style.left;\n      wrapper.style.top = top_1;\n      wrapper.style.bottom = bottom;\n      hintsUl_1.style.left = '';\n      hintsUl_1.style.top = ''; // This \"information\" node will contain the additional info about the\n      // highlighted typeahead option.\n\n      information = document.createElement('div');\n      information.className = 'CodeMirror-hint-information'; // This \"deprecation\" node will contain info about deprecated usage.\n\n      deprecation = document.createElement('div');\n      deprecation.className = 'CodeMirror-hint-deprecation';\n\n      if (bottom) {\n        wrapper.appendChild(deprecation);\n        wrapper.appendChild(information);\n        wrapper.appendChild(hintsUl_1);\n      } else {\n        wrapper.appendChild(hintsUl_1);\n        wrapper.appendChild(information);\n        wrapper.appendChild(deprecation);\n      }\n\n      var wrapperHeight = wrapper.clientHeight;\n      var currentTop = parseFloat(String(top_1).replace('px', ''));\n      var newTop = currentTop;\n\n      if (wrapperHeight + currentTop > window.innerHeight) {\n        newTop = window.innerHeight - 40 - wrapperHeight;\n      }\n\n      wrapper.style.top = newTop + \"px\";\n      global.wrapper = wrapper; // When CodeMirror attempts to remove the hint UI, we detect that it was\n      // removed from our wrapper and in turn remove the wrapper from the\n      // original container.\n\n      var _onRemoveFn_;\n\n      wrapper.addEventListener('DOMNodeRemoved', _onRemoveFn_ = function onRemoveFn_1(event) {\n        if (event.target === hintsUl_1) {\n          wrapper.removeEventListener('DOMNodeRemoved', _onRemoveFn_);\n          wrapper.parentNode.removeChild(wrapper);\n          wrapper = null;\n          information = null;\n          _onRemoveFn_ = null;\n        }\n      });\n    } // Now that the UI has been set up, add info to information.\n\n\n    var description = ctx.description ? md.render(ctx.description) : '';\n    var type = ctx.type && ctx.type !== 'undefined' ? '<span class=\"infoType\">' + renderType(ctx.type) + '</span>' : '';\n    information.innerHTML = '<div class=\"content\">' + (description.slice(0, 3) === '<p>' ? '<p>' + type + description.slice(3) : type + description) + '</div>';\n\n    if (ctx.isDeprecated) {\n      var reason = ctx.deprecationReason ? md.render(ctx.deprecationReason) : '';\n      deprecation.innerHTML = '<span class=\"deprecation-label\">Deprecated</span>' + reason;\n      deprecation.style.display = 'block';\n    } else {\n      deprecation.style.display = 'none';\n    } // Additional rendering?\n\n\n    if (onHintInformationRender) {\n      onHintInformationRender(information);\n    }\n  });\n}\n\nexports[\"default\"] = onHasCompletion;\n\nfunction renderType(type) {\n  return \"<a class=\\\"typeName\\\">\" + escapeHTML(type.toString()) + \"</a>\";\n}"]},"metadata":{},"sourceType":"script"}