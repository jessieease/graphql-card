{"ast":null,"code":"\"use strict\";\n\nvar __extends = void 0 && (void 0).__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar immutable_1 = require(\"immutable\");\n\nvar redux_actions_1 = require(\"redux-actions\");\n\nvar constants_1 = require(\"../../constants\");\n\nvar DocsSession =\n/** @class */\nfunction (_super) {\n  __extends(DocsSession, _super);\n\n  function DocsSession() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  DocsSession.prototype.toJSON = function () {\n    var obj = this.toObject(); // don't serialize navStack, as it could contain circular references in the type definitions\n\n    return immutable_1.set(obj, 'navStack', immutable_1.List([]));\n  };\n\n  return DocsSession;\n}(immutable_1.Record({\n  navStack: immutable_1.List([]),\n  docsOpen: false,\n  docsWidth: constants_1.columnWidth,\n  activeTabIdx: null,\n  keyMove: false\n}));\n\nexports.DocsSession = DocsSession;\nvar defaultState = immutable_1.Map({\n  '': new DocsSession()\n});\nexports[\"default\"] = redux_actions_1.handleActions({\n  SET_STACKS: function SET_STACKS(state, _a) {\n    var _b = _a.payload,\n        sessionId = _b.sessionId,\n        stacks = _b.stacks;\n    var session = getSession(state, sessionId);\n    session = session.set('navStack', stacks);\n    return state.set(sessionId, session);\n  },\n  ADD_STACK: function ADD_STACK(state, _a) {\n    var _b = _a.payload,\n        sessionId = _b.sessionId,\n        field = _b.field,\n        x = _b.x,\n        y = _b.y;\n\n    if (!field.path) {\n      field.path = field.name;\n    }\n\n    var session = getSession(state, sessionId);\n    session = session.update('navStack', function (navStack) {\n      var newNavStack = navStack;\n\n      if (x < newNavStack.count()) {\n        newNavStack = newNavStack.slice(0, x);\n      }\n\n      return newNavStack.push(immutable_1.Map({\n        x: x,\n        y: y,\n        field: field\n      }));\n    });\n    return state.set(sessionId, session);\n  },\n  TOGGLE_DOCS: function TOGGLE_DOCS(state, _a) {\n    var _b = _a.payload,\n        sessionId = _b.sessionId,\n        activeTabIdx = _b.activeTabIdx;\n    var session = getSession(state, sessionId);\n    session = session.set('docsOpen', !session.docsOpen);\n\n    if (typeof activeTabIdx === 'number') {\n      session = session.set('activeTabIdx', session.docsOpen ? activeTabIdx : null);\n    }\n\n    return state.set(sessionId, session);\n  },\n  SET_DOCS_VISIBLE: function SET_DOCS_VISIBLE(state, _a) {\n    var _b = _a.payload,\n        sessionId = _b.sessionId,\n        open = _b.open,\n        activeTabIdx = _b.activeTabIdx;\n    var session = getSession(state, sessionId);\n    session = session.set('docsOpen', !!open);\n\n    if (!session.docsOpen) {\n      session = session.set('activeTabIdx', null);\n    } else if (typeof activeTabIdx === 'number') {\n      session = session.set('activeTabIdx', activeTabIdx);\n    }\n\n    return state.set(sessionId, session);\n  },\n  CHANGE_WIDTH_DOCS: function CHANGE_WIDTH_DOCS(state, _a) {\n    var _b = _a.payload,\n        sessionId = _b.sessionId,\n        width = _b.width;\n    var session = getSession(state, sessionId);\n    session = session.set('docsWidth', width);\n    return state.set(sessionId, session);\n  },\n  CHANGE_KEY_MOVE: function CHANGE_KEY_MOVE(state, _a) {\n    var _b = _a.payload,\n        sessionId = _b.sessionId,\n        keyMove = _b.keyMove;\n    var session = getSession(state, sessionId);\n    session = session.set('keyMove', keyMove);\n    return state.set(sessionId, session);\n  }\n}, defaultState);\n\nfunction getSession(state, sessionId) {\n  if (!sessionId) {\n    throw new Error('sessionId cant be null');\n  }\n\n  return state.get(sessionId) || new DocsSession();\n}","map":{"version":3,"sources":["/Users/wubo/Desktop/card-design/card-design/node_modules/graphql-playground-react/lib/state/docs/reducers.js"],"names":["__extends","_extendStatics","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","prototype","create","defineProperty","exports","value","immutable_1","require","redux_actions_1","constants_1","DocsSession","_super","apply","arguments","toJSON","obj","toObject","set","List","Record","navStack","docsOpen","docsWidth","columnWidth","activeTabIdx","keyMove","defaultState","Map","handleActions","SET_STACKS","state","_a","_b","payload","sessionId","stacks","session","getSession","ADD_STACK","field","x","y","path","name","update","newNavStack","count","slice","push","TOGGLE_DOCS","SET_DOCS_VISIBLE","open","CHANGE_WIDTH_DOCS","width","CHANGE_KEY_MOVE","Error","get"],"mappings":"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","sourcesContent":["\"use strict\";\n\nvar __extends = void 0 && (void 0).__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar immutable_1 = require(\"immutable\");\n\nvar redux_actions_1 = require(\"redux-actions\");\n\nvar constants_1 = require(\"../../constants\");\n\nvar DocsSession =\n/** @class */\nfunction (_super) {\n  __extends(DocsSession, _super);\n\n  function DocsSession() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  DocsSession.prototype.toJSON = function () {\n    var obj = this.toObject(); // don't serialize navStack, as it could contain circular references in the type definitions\n\n    return immutable_1.set(obj, 'navStack', immutable_1.List([]));\n  };\n\n  return DocsSession;\n}(immutable_1.Record({\n  navStack: immutable_1.List([]),\n  docsOpen: false,\n  docsWidth: constants_1.columnWidth,\n  activeTabIdx: null,\n  keyMove: false\n}));\n\nexports.DocsSession = DocsSession;\nvar defaultState = immutable_1.Map({\n  '': new DocsSession()\n});\nexports[\"default\"] = redux_actions_1.handleActions({\n  SET_STACKS: function SET_STACKS(state, _a) {\n    var _b = _a.payload,\n        sessionId = _b.sessionId,\n        stacks = _b.stacks;\n    var session = getSession(state, sessionId);\n    session = session.set('navStack', stacks);\n    return state.set(sessionId, session);\n  },\n  ADD_STACK: function ADD_STACK(state, _a) {\n    var _b = _a.payload,\n        sessionId = _b.sessionId,\n        field = _b.field,\n        x = _b.x,\n        y = _b.y;\n\n    if (!field.path) {\n      field.path = field.name;\n    }\n\n    var session = getSession(state, sessionId);\n    session = session.update('navStack', function (navStack) {\n      var newNavStack = navStack;\n\n      if (x < newNavStack.count()) {\n        newNavStack = newNavStack.slice(0, x);\n      }\n\n      return newNavStack.push(immutable_1.Map({\n        x: x,\n        y: y,\n        field: field\n      }));\n    });\n    return state.set(sessionId, session);\n  },\n  TOGGLE_DOCS: function TOGGLE_DOCS(state, _a) {\n    var _b = _a.payload,\n        sessionId = _b.sessionId,\n        activeTabIdx = _b.activeTabIdx;\n    var session = getSession(state, sessionId);\n    session = session.set('docsOpen', !session.docsOpen);\n\n    if (typeof activeTabIdx === 'number') {\n      session = session.set('activeTabIdx', session.docsOpen ? activeTabIdx : null);\n    }\n\n    return state.set(sessionId, session);\n  },\n  SET_DOCS_VISIBLE: function SET_DOCS_VISIBLE(state, _a) {\n    var _b = _a.payload,\n        sessionId = _b.sessionId,\n        open = _b.open,\n        activeTabIdx = _b.activeTabIdx;\n    var session = getSession(state, sessionId);\n    session = session.set('docsOpen', !!open);\n\n    if (!session.docsOpen) {\n      session = session.set('activeTabIdx', null);\n    } else if (typeof activeTabIdx === 'number') {\n      session = session.set('activeTabIdx', activeTabIdx);\n    }\n\n    return state.set(sessionId, session);\n  },\n  CHANGE_WIDTH_DOCS: function CHANGE_WIDTH_DOCS(state, _a) {\n    var _b = _a.payload,\n        sessionId = _b.sessionId,\n        width = _b.width;\n    var session = getSession(state, sessionId);\n    session = session.set('docsWidth', width);\n    return state.set(sessionId, session);\n  },\n  CHANGE_KEY_MOVE: function CHANGE_KEY_MOVE(state, _a) {\n    var _b = _a.payload,\n        sessionId = _b.sessionId,\n        keyMove = _b.keyMove;\n    var session = getSession(state, sessionId);\n    session = session.set('keyMove', keyMove);\n    return state.set(sessionId, session);\n  }\n}, defaultState);\n\nfunction getSession(state, sessionId) {\n  if (!sessionId) {\n    throw new Error('sessionId cant be null');\n  }\n\n  return state.get(sessionId) || new DocsSession();\n}"]},"metadata":{},"sourceType":"script"}